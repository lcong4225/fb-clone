(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[94],{"+tKw":function(e,t,n){n.d(t,"a",(function(){return p}));var i=n("nKUr"),o=n("q1tI"),r=n("Y+p1"),a=n.n(r),s=n("qD10");const c="__HashtagFlag__",l=/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>…)]+/gi,d=(e,t)=>`/search/pins/?q=${encodeURIComponent(e)}&rs=${t}`;const u={hashtags:function(e,t){const n=t.appendText||"",o=t.source||"hashtag_pinrep";let r=[];const a=[],u={};let p=0;const b=e=>(t,n)=>{if(t===c&&a.length){const t=a.shift();return p+=1,Object(i.jsx)(s.a,{to:d(t,o),children:Object(i.jsx)("span",{className:"pinHashtag",children:t})},`hashtag-${e}.${n}`)}return t};for(let i=0;i<e.length;i+=1){const t=e[i];if("string"==typeof t){const e=t.replace(l,e=>(a.push(e),u[e]=!0,c)).split(new RegExp("(__HashtagFlag__)")).map(b(i));r=[...r,...e]}else r.push(t)}const h=[];return n&&n.replace(l,(e,t)=>(!u[e]&&p<4&&(p+=1,h.push(Object(i.jsxs)("span",{children:[" ",Object(i.jsx)(s.a,{to:d(e,o),children:Object(i.jsx)("span",{className:"pinHashtag",children:e})})]},"appended"+t)),u[e]=!0),e)),r=[...r,...h],r}};class p extends o.Component{shouldComponentUpdate(e){return!a()(this.props,e)}render(){const{text:e,options:t}=this.props;if("string"==typeof e&&""===e.trim())return e;let n=[e];for(const i of Object.keys(u))if(i in t){n=(0,u[i])(n,t[i])}return Object(i.jsx)("span",{children:n})}}},"0bYG":function(e,t){e.exports={ReasonToChoose:{REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,RECOMMENDED_TOPICS:65,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61},ThroughObjectType:{PIN_ID:1,IMAGE_SIGNATURE:2,BOARD_ID:3,INTEREST_ID:4,SEARCH_QUERY:5,CREATOR_ID:6,ANNOTATION_ID:7,NEARDUP_SIGNATURE:8}}},"1Fta":function(e,t,n){n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d}));var i=n("kmwA"),o=n("eqXv"),r=n("pSsd");const a=e=>e.length>32?e.substring(0,32).trim()+"...":e;function s(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function c(e){return null==e?void 0:e.through_properties}function l(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}t.a=({i18n:e,interpolateNamedTemplate:t})=>({getLearnMoreUrl:e=>{switch(e){case 1:return i.a.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return i.a.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return i.a.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:({ad_match_reason:n,board:i,feedbackType:o,makeNavigateLink:r,pinner:s,promoter:c,recommendationReason:l,sourceInterest:d})=>{switch(o){case"pfy":return e._("This Pin was inspired by your recent activity","Pin feedback reason","Pin feedback reason");case"pfyBoard":const{name:o,url:u}=l.board,p=r("navigation",u,o);return t(e._("This Pin was inspired by your board {{ boardLink }}","Pin feedback - inspired by your board","Pin feedback - inspired by your board"),{boardLink:p});case"topic":const{name:b,url_name:h}=d,j=r("topicUrl","/topics/"+h,b);return t(e._("This Pin was inspired by {{ formattedTopic }}","Pin feedback","Pin feedback"),{formattedTopic:j});case"followed":const m="/"+s.username,f=r("boardUrl",i.url,a(i.name)),g=r("pinnerUrl",m,a(s.full_name));return s.explicitly_followed_by_me?t(e._("This Pin is from {{ formattedPinner }}, a profile you follow","Pin feedback","Pin feedback"),{formattedPinner:g}):t(e._("This Pin is from {{ formattedBoard }}, a board you follow","Pin feedback","Pin feedback"),{formattedBoard:f});case"promoted":switch(n){case 1:case 2:case 3:return e._("This ad was personalized for you using info from one of our partners","Pin feedback","Pin feedback");default:const{full_name:n,username:i}=c,o=r("promotedLink",i?"/"+i+"/":"/",n);return t(e._("{{ promoterLink }} paid to have this Pin show up where\n          you’d be more likely to notice it","Pin feedback","Pin feedback"),{promoterLink:o})}default:return null}},getFeedbackType({board:e,feedback:t,viewParameter:n,pin:{promoter:i,is_downstream_promotion:o,recommendation_reason:r},pinner:a}){const s=t&&t.type;return i&&!o?"promoted":s||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(r)?r.board?"pfyBoard":"pfy":r&&"FOLLOWED_INTEREST"===r.reason?"topic":e&&e.followed_by_me||a&&a.explicitly_followed_by_me?"followed":140===n||144===n||141===n||145===n||139===n||3173===n?"related":92===n?"default":3082===n?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:i,pinFeedbackType:o,complaintReason:r,throughId:a,throughProperties:s,clientTrackingParams:c})=>{const l="promoted"===t;let d,u;switch(t){case"promoted":d="promotedComplaint";break;case"search":d="unrelatedSearchPin";break;case"related":d="relatedPinHide";break;case"newsHub":d="newsHubPinHide";break;default:d="complaint"}switch(t){case"search":u={query:e.query,pin_id:n};break;case"related":u={pin:n};break;case"newsHub":u={pinId:n,newsId:e.newsId};break;default:u={complaint_reason:r||0,pin_id:n,...i?{recommendation_reason_id:i}:{},feedback_type:o||1,promoted:l,...a?{through_id:a}:{},...s?{through_properties:s}:{},...c?{client_tracking_params:c}:{}}}return{action:d,actionOptions:u}},getUnfollowAction:({board:n,feedbackType:i,makeNavigateLink:o,pinner:a,sourceInterest:s})=>{if("topic"===i){if(s){const{id:n,name:i,url_name:a}=s,c=o("topicUrl","/topics/"+a,i,!0),l=t(e._("We’ll show you less Pins from {{ formattedTopic }} in the future.","pin.contextualMenu.feedback.unfollowTopic.subtitle","Confirmation text after unfollowing a topic"),{formattedTopic:c});return{action:"unfollowTopic",actionOptions:{interest_id:n,interest_list:r.a},title:"",subTitle:l}}}else if("followed"===i&&n&&a){const{id:i,name:r,url:s}=n||{},{explicitly_followed_by_me:c,full_name:l,username:d}=a,u="/"+d,p=o("boardUrl",s,r,!0),b=o("pinnerUrl",u,l,!0);let h=c?t(e._("You’ve unfollowed {{ formattedPinner }}’s Board {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedPinner:b,formattedBoard:p}):t(e._("You’ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:p});return h=c?t(e._("You unfollowed {{ formattedPinner }} and won’t see Pins they save anymore.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedPinner:b}):t(e._("You unfollowed the board {{ formattedBoard }} and won’t see Pins saved to it anymore.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:p}),{action:"unfollowBoard",actionOptions:{board_id:i},title:"",subTitle:h}}return null}});const d=(e,t,n,i,r,a,s)=>()=>{const c={...e,undo:!0};let l=t;"unfollowPinner"===t?l="followPinner":"unfollowBoard"===t?l="followBoard":"unfollowTopic"===t&&(l="followTopic"),Object(o.a)(l,c),a(n),s(101,{component:0,element:11181,view:i,viewParameter:r})}},"3qdF":function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("nKUr"),o=n("4Utz"),r=n("n6mq");const a={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function s({pin:e,enableCloseupLink:t}){const{aggregated_pin_data:n}=e,{pin_tags_chips:s}=n||{},c=s&&s.length>=3?s.slice(0,3):[];return Object(i.jsx)(r.e,{display:"flex",dangerouslySetInlineStyle:{__style:a.chipContainer},children:c.map(n=>{const s=n.images["750x"]||{},c=Object(i.jsx)(r.x,{alt:"",fit:"cover",naturalHeight:s.height,naturalWidth:s.width,src:s.url});return Object(i.jsx)(r.e,{dangerouslySetInlineStyle:{__style:a.chip},"data-test-id":"collageChip",children:Object(i.jsx)(r.e,{dangerouslySetInlineStyle:{__style:a.chipInner},position:"relative",children:Object(i.jsx)(r.e,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:Object(i.jsx)(r.C,{height:"100%",wash:!0,width:"100%",children:t?Object(i.jsx)(o.a,{additionalStyles:{width:"100%",height:"100%"},collageChipId:n.id,pin:e,children:c}):c})})})},n.id)})})}},"3vxq":function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("nKUr"),o=n("Ye/N"),r=n("nj6m"),a=n("vvax"),s=n("XRfM"),c=n("pLLR"),l=n("n6mq");function d({count:e,countFormat:t,ratingValue:n,shippingInfo:d={}}){const{locale:u}=Object(c.d)();const p=e?function(e){return"text"===t?Object(a.b)(o.a.ngettext("{{ count }} rating","{{ count }} ratings",e,"closeup.ratings.count","total ratings count"),{count:e}).join(""):`(${Object(s.e)(u,e,{shortform:!0,shortform_maximum_fraction_digits:1})})`}(e):null,{free_shipping_price:b,free_shipping_value:h}=d||{};let j;const m=n&&"None"!==n&&p;return"number"==typeof h&&(j=0===h?Object(a.b)(o.a._("{{ dot }}Free shipping","closeup.product.shipping","product shipping info"),{dot:m?"· ":""}).join(""):Object(a.b)(o.a._("{{ dot }}Free shipping with {{ shippingPrice }}+","closeup.product.shipping","product shipping info"),{dot:m?"· ":"",shippingPrice:b}).join("")),Object(i.jsxs)(l.e,{display:"flex",direction:"row",marginTop:2,alignItems:"center",children:[m&&n&&Object(i.jsx)(r.a,{rating:n,width:12}),m&&Object(i.jsx)(l.X,{children:p}),j&&Object(i.jsx)(l.e,{marginStart:1,children:Object(i.jsx)(l.X,{children:j})})]})}},"4+TC":function(e,t,n){var i=n("nKUr"),o=n("q1tI"),r=n("TSYQ"),a=n.n(r),s=n("Ye/N"),c=n("juJw"),l=n("qD10"),d=n("n6mq");class u extends o.Component{constructor(...e){var t,n,i;super(...e),i={showBoardName:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.timer=setTimeout(()=>{this.setState({showBoardName:!0})},950)}componentWillUnmount(){clearTimeout(this.timer)}render(){const{showBoardName:e}=this.state,{isNewlySaved:t,shouldUseLegoStyles:n,name:o,url:r}=this.props;let u,p;if(!t||e||n){const e=n?Object(i.jsx)(d.X,{color:"white",size:"lg",weight:"bold",children:o.length<=30?o:Object(c.a)(o,30)}):Object(i.jsx)(d.u,{color:"white",size:"sm",truncate:!0,children:o});u=r?Object(i.jsx)(l.a,{to:r,children:e}):e}else u=Object(i.jsx)(d.X,{color:"white",children:Object(i.jsx)("span",{className:"deprecatedTextSizeXL",children:s.a._("Saved!","Indication that a pin has been saved","Indication that a pin has been saved")})});return t&&(p=e?"board":"saved"),Object(i.jsx)("div",{"data-test-id":"savedInfo",style:{paddingLeft:n?14:void 0,paddingRight:n?14:void 0},className:n?a()("Lego__SavedPin",p):a()("SavedAnimation",p),children:u})}}t.a=u},"4Utz":function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("nKUr"),o=n("qD10"),r=n("FgHp"),a=n("0nTG"),s=n("Y8Sn"),c=n("U4JR"),l=n("QAzJ"),d=n("gD/Z");function u({additionalStyles:e={},children:t,collageChipId:n,componentType:u,contextLogData:p,elementType:b,pin:h,viewParameter:j,viewType:m}){const f=Object(d.b)(),{group:g}=Object(l.a)("web_preload_story_pin_video_in_feed"),{carousel_data:O,id:_,story_pin_data:x}=h;let y,w=`/pin/${n||_}/`;if(O){const{carousel_slots:e=[],id:t,index:n}=O;w=`/pin/${_}/`,y={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n}}y={...y||{},...Object(a.f)(h,p)||{}};return Object(i.jsx)(o.a,{auxData:y,onClick:()=>{x&&"enabled_click"===g&&Object(r.a)(x),Object(c.b)(101,{...p,component:u||f.componentType,element:b,objectId:_,view:m||f.viewType,viewParameter:j||f.viewParameter,...Object(a.f)(h,p)||{}}),Object(s.e)()&&Object(c.b)(8948,{closeup_navigation_type:"click",view:m||f.viewType,viewParameter:j||f.viewParameter,component:u||f.componentType,element:b,objectId:_,...p,...Object(a.f)(h,p)||{}})},pinId:_,style:{cursor:"zoom-in",display:"block",...e},to:w,children:t})}},5871:function(e,t,n){var i=n("nKUr"),o=n("q1tI"),r=n("/MKj"),a=n("Nle8"),s=n("E/VT"),c=n("R6wO"),l=n("Ye/N"),d=n("qD10"),u=n("gSZa"),p=n("hFNL"),b=n("4cpq"),h=n("ANjH"),j=n("pSsd"),m=n("0bYG"),f=n("U4JR"),g=n("1Fta"),O=n("DJoW"),_=n("vvax"),x=n("n6mq"),y=n("eqXv"),w=n("EC67");function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const T={color:"white",textDecorationColor:"white"};class S extends o.Component{constructor(e){super(e),v(this,"getRecommendationDescription",()=>{const{ad_match_reason:e,board:t,feedbackType:n,pinner:i,promoter:o,recommendationReason:r,sourceInterest:a}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:e,board:t,feedbackType:n,makeNavigateLink:this.makeNavigateLink,pinner:i,promoter:o,recommendationReason:r,sourceInterest:a})}),v(this,"getRecommendationDescriptionImage",()=>{const{board:e,feedbackType:t,pinner:n,recommendationReason:o}=this.props;if("followed"!==t&&"pfyBoard"!==t)return null;let r,a,s;return n&&n.explicitly_followed_by_me?(r=n.image_small_url,a="50%",s="/"+n.username):e&&e.image_thumbnail_url&&(r=e.image_thumbnail_url,a="4px",s=o&&o.board&&o.board.url||e.url),r?Object(i.jsx)(x.e,{dangerouslySetInlineStyle:{__style:{borderRadius:a}},flex:"none",marginStart:3,overflow:"hidden",children:Object(i.jsx)(x.W,{onTap:()=>this.props.history.push(s),children:Object(i.jsx)(x.C,{height:40,wash:!0,width:40,children:Object(i.jsx)(x.x,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:r})})})}):null}),v(this,"getUnfollowAction",()=>{const{board:e,feedbackType:t,pinner:n,sourceInterest:i}=this.props;return this.feedbackHelpers.getUnfollowAction({board:e,feedbackType:t,makeNavigateLink:this.makeNavigateLink,pinner:n,sourceInterest:i})}),v(this,"getUndoText",e=>"unfollowPinner"===e||"unfollowBoard"===e?l.a._("Follow again","Caption for button to undo a unfollowing of a topic","Caption for button to undo a unfollowing of a topic"):""),v(this,"feedbackHelpers",Object(g.a)({i18n:l.a,interpolateNamedTemplate:_.b})),v(this,"makeNavigateLink",(e,t,n,o)=>{const r={display:"inline",...o?T:{}};return Object(i.jsx)(d.a,{className:"underlineLink",onClick:this.props.onLinkClick,to:t,children:Object(i.jsx)(x.e,{dangerouslySetInlineStyle:{__style:r},children:n})},e)}),v(this,"reportPinOption",()=>({action:"reportPin",elementType:974,text:l.a._("Report Pin","Report a pin in the dropdown","Report a pin in the dropdown"),description:l.a._("This goes against Pinterest's community guidelines","Description for the report pin option","Description for the report pin option"),callback:this.props.reportPin})),v(this,"hidePinOption",e=>{const{feedbackData:t,feedbackType:n,pinId:i,recommendationReason:o}=this.props,r="search"===n?973:982,{action:s,actionOptions:c}=this.feedbackHelpers.getHidePinAction({feedbackData:t,feedbackType:n,pinId:i,recommendationReasonId:o&&o.reason&&m.ReasonToChoose[o.reason],pinFeedbackType:"pfy"===n?4:10,throughId:o&&Object(g.d)(o),throughProperties:o&&Object(g.e)(o),clientTrackingParams:Object(a.a)(i)}),d=l.a._("Hide Pin","message displayed in pin feedback list","message displayed in pin feedback list");return{action:s,actionOptions:c,feedbackText:this.pinHiddenFeedbackText(e),text:d,description:l.a._("See fewer Pins like this","Description for the hide pin option","Description for the hide pin option"),elementType:r}}),v(this,"stopRecommendationOption",()=>{const{feedbackData:e,feedbackType:t,pinId:n,recommendationReason:i}=this.props,{board:o,reason:r}=null!=i?i:{},s=r&&m.ReasonToChoose[r],c=i&&Object(g.d)(i),d=i&&Object(g.e)(i),u="pfyBoard"===t,{action:p,actionOptions:b}=this.feedbackHelpers.getHidePinAction({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:s,pinFeedbackType:u?2:4,throughId:c,throughProperties:d,clientTrackingParams:Object(a.a)(n)}),h=o?this.makeNavigateLink("boardUrl",o.url,o.name,!0):"";return{action:p,actionOptions:b,feedbackText:{subTitle:u&&o?Object(_.b)(l.a._("We won't show you Pins inspired by your board {{ formattedBoard }} anymore.","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{formattedBoard:h}):l.a._("Got it! We won't show you Pins like this in the future.","message displayed after stopping recommendations from a pin","message displayed after stopping recommendations from a pin")},text:u&&o?Object(_.b)(l.a._("Stop seeing Pins inspired by {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:o.name}):l.a._("See fewer Pins like this","Feedback option to stop recommendations inspired by this Pin","Feedback option to stop recommendations inspired by this Pin"),elementType:284}}),v(this,"unfollowBoardOption",()=>{const{board:e}=this.props,t=e?this.makeNavigateLink("boardUrl",e.url,e.name,!0):"",n=Object(_.b)(l.a._("Unfollow {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:null==e?void 0:e.name}),i=Object(_.b)(l.a._("Got it! You unfollowed {{ formattedBoard }} and won't see Pins saved to it in the future.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:t});return{action:"unfollowBoard",actionOptions:{board_id:null==e?void 0:e.id},feedbackText:{title:"",subTitle:i},text:n,description:Object(_.b)(l.a._('Stop seeing Pins from the board "{{ boardName }}"',"Secondary caption displayed in pin feedback list to unfollow a board","Secondary caption displayed in pin feedback list to unfollow a board"),{boardName:null==e?void 0:e.name}),elementType:10614}}),v(this,"unfollowTopicOption",()=>{const{sourceInterest:e}=this.props;if(e){const{id:t,name:n,url_name:i}=e,o="/topics/"+i,r=this.makeNavigateLink("topicUrl",o,n,!0),a=Object(_.b)(l.a._("See fewer Pins from {{ topicName }}","Primary caption displayed in pin feedback list to unfollow a topic","Primary caption displayed in pin feedback list to unfollow a topic"),{topicName:n}),s=Object(_.b)(l.a._("We'll show you fewer Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic","Confirmation text after unfollowing a topic"),{formattedTopic:r});return{action:"unfollowTopic",actionOptions:{interest_id:t,interest_list:j.a},feedbackText:{title:"",subTitle:s},text:a,description:Object(_.b)(l.a._('Stop seeing Pins from the topic "{{ topicName }}"',"Secondary caption displayed in pin feedback list to unfollow a topic","Secondary caption displayed in pin feedback list to unfollow a topic"),{topicName:e.name}),elementType:976}}return null}),v(this,"unfollowUserOption",()=>{const{pinner:e}=this.props,{id:t,username:n,full_name:i}=null!=e?e:{},o="/"+n,r=e?this.makeNavigateLink("pinnerUrl",o,i,!0):"";return{action:"unfollowPinner",actionOptions:{user_id:t},feedbackText:{title:"",subTitle:Object(_.b)(l.a._("Got it! You unfollowed {{ formattedUser }} and won't see Pins they save in the future.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedUser:r})},text:Object(_.b)(l.a._("Unfollow {{ fullName }}","Primary caption displayed in pin feedback list to unfollow a user","Primary caption displayed in pin feedback list to unfollow a user"),{fullName:i}),description:l.a._("Stop seeing all their Pins","Secondary caption displayed in pin feedback list to unfollow a user","Secondary caption displayed in pin feedback list to unfollow a user"),elementType:10640}}),v(this,"downloadPinOption",()=>({action:"downloadPin",text:l.a._("Download image","Button to download Pin image","Button to download Pin image"),elementType:10836})),v(this,"_pinFeedbackText",()=>{const{location:e,feedbackType:t,hideDownload:n,pinner:i}=this.props,o="followed"===this.props.feedbackType,r=e.pathname.includes("following"),a=(o||"topic"===t)&&!r,s=this.hidePinOption(a),c=this.reportPinOption(),d="promoted"!==t&&!n;switch(t){case"followed":const e=r,n=!e&&this.getRecommendationDescription(),o=null!=i&&i.explicitly_followed_by_me?this.unfollowUserOption():this.unfollowBoardOption();return{...n?{description:n}:{},options:[s,...a||e?[o]:[],..."promoted"!==t?[this.downloadPinOption()]:[],c]};case"promoted":const{ad_match_reason:u}=this.props,p=[s,{link:this.feedbackHelpers.getLearnMoreUrl(u),text:l.a._("Why am I seeing this ad?","Link to promoted pins explanation page","Link to promoted pins explanation page"),dataTestId:"why-am-i-seeing-this-ad"},c];return{description:this.getRecommendationDescription(),options:p};case"topic":const b=this.unfollowTopicOption(),h=[s,...a&&b?[b]:[],...d?[this.downloadPinOption()]:[],c];return{description:this.getRecommendationDescription(),options:h};case"pfy":case"pfyBoard":const j=[s,..."pfyBoard"===t?[this.stopRecommendationOption()]:[],...d?[this.downloadPinOption()]:[],c];return{description:this.getRecommendationDescription(),options:j};default:const m=[s,...d?[this.downloadPinOption()]:[],c];return{description:this.getRecommendationDescription(),options:m}}}),v(this,"pinHiddenFeedbackText",e=>{const t=e?null:this.getUnfollowAction();return t?{title:"",subTitle:this.getRecommendationDescription(),unfollow:t}:{title:"",subTitle:l.a._("Got it! We won't show you this Pin in the future.","message displayed after hiding a pin","message displayed after hiding a pin")}});const t=this._pinFeedbackText();this.state={pinFeedbackConfig:t,showSecondary:!1}}onPinFeedbackActionButtonClick(e,t,n){e.stopPropagation(),t.auxData?this.handleClickLogging(t.elementType,t.auxData):this.handleClickLogging(t.elementType),Object(y.a)(t.action,t.actionOptions,n)}onPinHide(e,t,n,i){const{hidePinFeedback:o,onHide:r,pinId:a,showPinFeedback:s,showPinFeedbackOverlay:c,showPinFeedbackUndo:l,viewParameter:d,viewType:u}=this.props;t&&n&&i?l(a,e,Object(g.b)(n,i,a,u,d,o,f.b),this.getUndoText(i)):s(a,e),!n||n.promoted||10!==n.feedback_type&&4!==n.feedback_type?r():(this.setState({showSecondary:!0}),c(a))}makeStrongText(e,t){return Object(i.jsx)("strong",{children:t},e)}handleClickLogging(e,t={}){const{feedbackType:n,viewParameter:i,viewType:o}=this.props;Object(f.b)(101,{...t,view:o,viewParameter:i,element:e,component:Object(g.c)(n)})}renderButtons(){const{hideDownload:e,onDownloadHideFlyout:t,pinId:n,viewType:o,viewParameter:r}=this.props,{pinFeedbackConfig:a}=this.state,{options:u}=a,h=[],j=u.length;for(let m=0;m<j;m+=1){const a=u[m],j=y.b.includes(a.action),f=a.callback?a.callback:()=>this.onPinHide(a.feedbackText,j,a.actionOptions,a.action);if("downloadPin"!==a.action)h.push(Object(i.jsx)(x.e,{children:a.link?Object(i.jsx)(b.a,{id:a.dataTestId||"",children:Object(i.jsx)(d.a,{external:!0,to:a.link,children:Object(i.jsx)(c.a,{compact:!0,text:a.text})})}):Object(i.jsx)(x.W,{fullWidth:!1,onTap:({event:e})=>this.onPinFeedbackActionButtonClick(e,a,f),children:Object(i.jsx)(c.a,{compact:!0,text:a.text})})},m));else if(!e&&"undefined"!=typeof window&&"windows"!==Object(p.b)(window)){const{bestPinImgSrc:e,pinTitle:a,pinDescription:d,pinCategory:u}=this.props;h.push(Object(i.jsx)(x.e,{children:Object(i.jsx)(s.a,{category:u,filename:a||d,imageDownloadSuccessCallback:()=>{t&&t()},imgSrc:e,pinId:n,viewParameter:r,viewType:o,children:e=>Object(i.jsx)(x.W,{fullWidth:!1,onTap:e,children:Object(i.jsx)(c.a,{compact:!0,text:l.a._("Download image","Button to download Pin image","Button to download Pin image")})})})},m))}}return h}render(){const{pinFeedbackConfig:e,showSecondary:t}=this.state,{feedbackData:n,feedbackType:o,pinId:r,onHide:a,recommendationReason:s,viewParameter:c,viewType:l}=this.props,{description:d}=e,p=this.getRecommendationDescriptionImage();return Object(i.jsx)(x.e,{overflow:"hidden",width:"100%",children:t?Object(i.jsx)(u.a,{feedbackData:n,feedbackType:o,pinId:r,onHide:a,recommendationReason:s,viewParameter:c,viewType:l}):Object(i.jsxs)(x.e,{children:[d&&Object(i.jsxs)(x.e,{children:[Object(i.jsxs)(x.e,{alignItems:"center",display:"flex",padding:4,children:[Object(i.jsx)(x.e,{maxHeight:56,overflow:"hidden",children:Object(i.jsx)(x.X,{color:"darkGray",overflow:"normal",size:"md",children:d})}),p]}),Object(i.jsx)(x.o,{})]}),Object(i.jsx)(x.e,{marginBottom:3,marginTop:2,children:this.renderButtons()})]})})}}t.a=Object(h.compose)(Object(r.connect)(null,e=>({hidePinFeedback:t=>e(Object(O.b)(t)),showPinFeedback:(t,n)=>e(Object(O.a)(t,n)),showPinFeedbackOverlay:t=>e(Object(O.e)(t)),showPinFeedbackUndo:(t,n,i,o)=>e(Object(O.f)(t,n,i,o))})),w.k)(S)},"5uyJ":function(e,t,n){n.d(t,"a",(function(){return i}));const i={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},"82UD":function(e,t,n){var i=n("nKUr"),o=n("q1tI"),r=n("/MKj"),a=n("T+9/"),s=n("ajUs"),c=n("ou9u"),l=n("hFNL"),d=n("qD10"),u=n("yKES"),p=n("5uyJ"),b=n("n6mq");const h={overlay:{__style:{backgroundColor:"#000"}}};function j(e){const{pin:{id:t,images:n,title:r,videos:a,video_status_message:s}}=e,c=s||{},l=n&&n["236x"],j=a&&a.video_list[p.a.V_HLSV4],{duration:m}=j||{};return Object(i.jsx)(o.Fragment,{children:Object(i.jsx)(b.i,{children:Object(i.jsxs)(d.a,{to:"/pin/"+t,children:[Object(i.jsxs)(b.e,{overflow:"hidden",position:"relative",rounding:2,children:[l&&Object(i.jsx)(b.x,{alt:r||"",color:"lightGray",naturalHeight:l.height,naturalWidth:l.width,src:l.url}),!!m&&Object(i.jsx)(b.e,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex",children:Object(i.jsx)(u.a,{duration:m})}),Object(i.jsx)(b.e,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:h.overlay}),Object(i.jsxs)(b.e,{position:"absolute",top:!0,left:!0,padding:5,width:"100%",children:[Object(i.jsx)(b.u,{color:"white",overflow:"normal",size:"sm",children:c.title}),Object(i.jsx)(b.e,{marginTop:4,children:Object(i.jsx)(b.X,{color:"white",size:"md",overflow:"normal",children:c.subtitle})})]})]}),Object(i.jsx)(b.e,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1,children:Object(i.jsx)(b.e,{flex:"grow",children:r&&Object(i.jsx)(b.e,{paddingY:1,children:Object(i.jsx)(b.X,{inline:!0,size:"md",weight:"bold",children:r})})})})]})})})}var m=n("Y8Sn"),f=n("vpxy"),g=n("0nTG");t.a=Object(r.connect)((function({pins:e},{pin:t,pinId:n}){return{reduxPin:e[n]||t}}),()=>({}))((function({reduxPin:e,trackingParameters:t,...n}){const d=Object(r.useSelector)(({location:e})=>e),u=Object(s.a)(e,d),p=Object(c.a)(e),b=!!(p&&p.url&&p.height&&p.width)||void 0,h=p&&e.videos?e.videos.id:void 0,[O,_]=Object(o.useState)(!1),x=Object(o.useCallback)(()=>_(!0),[]),y=Object(o.useCallback)(()=>_(!1),[]),{componentType:w,contextLogData:v,impressionAuxFields:T,slotIndex:S,viewData:I,viewParameter:P,viewType:E}=t;return Object(i.jsx)(a.a,{componentType:w,contextLogData:{..."undefined"!=typeof window?{pwa_type:Object(l.b)(window)}:{},...v,...Object(g.f)(e,v)},impressionAuxFields:{...T||{},isNativeVideoAndWatchable:b,videoIdStr:h,clientTrackingParams:u||(e.tracking_params||"")+"-0",imageURL:e.images&&e.images["236x"].url,richTypes:Object(g.e)(e)},impressionType:"Pin",isPaused:!O,loggingId:e.id,slotIndex:S,viewData:I,viewParameter:P,viewType:E,children:Object(m.h)(e)?Object(i.jsx)(j,{pin:e}):Object(i.jsx)(f.a,{...n,debugImpressionState:O?"started":"paused",onError:y,onLoad:x,pin:e,trackingParameters:{componentType:w,contextLogData:v,slotIndex:S,viewParameter:P,viewType:E}})})}))},"8A+h":function(e,t,n){function i(e,t){const n=t&&t.owner&&t.owner.id;return e.isAuth&&n===e.id}n.d(t,"a",(function(){return i}))},"9WJf":function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("8A+h"),o=n("E58E"),r=n("zpPL");function a({action:e,board:t}){var n;const a=r.a.instance&&r.a.instance.getState()||{viewer:{}},{viewer:s}=a;return Object(i.a)(s,t)||Object(o.a)({board:t,viewer:s})&&!(null===(n=t.collaborator_permissions)||void 0===n||!n.includes(e))}},DJoW:function(e,t,n){function i(e,t,n,i){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:n,undoText:i}}}function o(e){return{type:"PIN_SHOW_POSITIVE_SIGNAL",payload:{id:e,value:!0}}}function r(e){return{type:"PIN_SHOW_POSITIVE_SIGNAL",payload:{id:e,value:!1}}}function a(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function s(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function c(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function l(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return l}))},"E/VT":function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("nKUr"),o=n("q1tI"),r=n("28DW"),a=n("n6mq"),s=n("U4JR");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends o.Component{constructor(...e){super(...e),c(this,"state",{href:void 0}),c(this,"onEvent",()=>{if("undefined"==typeof window)return;const{category:e,imageDownloadSuccessCallback:t,imgSrc:n,isUnauth:i,pinId:o,viewParameter:a,viewType:c}=this.props,{href:l}=this.state;null==l&&n&&fetch(n,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then(e=>e.blob()).then(e=>{this.setState({href:window.URL.createObjectURL(e)},()=>{this.imageDownload&&this.imageDownload.click()})}).then(()=>t&&t()).catch(()=>this.setState({href:this.DOWNLOAD_ERROR})),Object(r.a)(`web.${i?"unauth":"auth"}.download.click.${e||"no_category"}`),Object(s.b)(82,{objectId:o,view:c||3,viewParameter:a||139})}),c(this,"DOWNLOAD_ERROR","error")}render(){const{children:e}=this.props,{filename:t}=this.props,{href:n}=this.state,r=null!=n&&n!==this.DOWNLOAD_ERROR;return Object(i.jsxs)(o.Fragment,{children:[e(this.onEvent),r&&Object(i.jsx)(a.e,{display:"none",children:Object(i.jsx)("a",{ref:e=>this.imageDownload=e,tabIndex:-1,download:t&&t.replace(".","_"),href:n})})]})}}},E58E:function(e,t,n){function i({board:e,viewer:t}){const{collaborated_by_me:n}=e;return t.isAuth&&n}n.d(t,"a",(function(){return i}))},ENn1:function(e,t,n){var i=n("zpPL"),o=n("xjqW"),r=n("Y8Sn");t.a=({pin:e,viewParameter:t,viewType:n})=>{const{id:a,videos:s}=e,c=Object(r.f)(e),l=Object(r.g)(e);let d;if(Object(r.j)(s)&&s){const{video_list:e}=s,t=e[Object.keys(e)[0]];d=t&&t.duration}return()=>{i.a.instance.dispatch(Object(o.b)({id:a,isProduct:c,isPromoted:l,videoDuration:d,viewParameter:t,viewType:n,type:"pin"}))}}},EPem:function(e,t,n){n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return f}));var i=n("nKUr"),o=n("JW66"),r=n("BcL7"),a=n("pWkb"),s=n("ynlw"),c=n("Ye/N"),l=n("eBDd"),d=n("vvax"),u=n("VpfY"),p=n("n6mq");const b=()=>["employees","enabled"].includes(r.a.getInstance().v2ActivateExperiment("px_show_protected_pin_stats_on_closeup"));function h(e,t){var n,i,a;if(!t.isAuth)return!1;const c=Object(u.b)(e)||Object(u.c)(e),l=(null===(n=e.board)||void 0===n?void 0:n.privacy)===o.a.BoardPrivacy.PUBLIC,d=(null===(i=e.board)||void 0===i?void 0:i.privacy)===o.a.BoardPrivacy.PROTECTED,p=(b()&&d||l)&&!e.is_repin&&(null===(a=e.pinner)||void 0===a?void 0:a.id)===t.id,{isStoryPin:h}=Object(s.a)(e);return c&&(!d||b())||t.isPartner&&p||["employees","enabled"].includes(r.a.getInstance().v2ActivateExperiment("web_ps4p"))&&h&&p}function j(e,t){return e?[{align:"start",displayText:c.a._("Video views","pinRep.pinStats.videoViews","Label for views of a video pin on pinrep"),field:"video_views",iconType:"play"},{align:"center",displayText:c.a._("Avg. time","pinRep.pinStats.videoAverageTime","Label for average time of a video pin on pinrep"),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:c.a._("Saves","pinRep.pinStats.save","Label for saves of a video pin on pinrep"),field:"save",iconType:"angled-pin"}]:t?[{align:"start",displayText:c.a._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:c.a._("Closeups","pinRep.pinStats.closeups","Label for closeups of a pin on pinrep"),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:c.a._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:c.a._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:c.a._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"},{align:"end",displayText:c.a._("Link clicks","pinRep.pinStats.clickthrough","Label for click-throughs of a pin on pinrep"),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]}function m(e,t){const{isStoryPin:n,isVideo:o}=Object(s.a)(e),r=Object(u.b)(e),l=Object(u.c)(e)&&(n||!r)?e.creator_analytics:e.aggregated_pin_data.creator_analytics,b=new Date(e.created_at),h=(new Date).getTime()-b.getTime(),j=Math.floor(h/36e5),m=l?l["24h_realtime"].is_realtime:null,f=l?l["24h_realtime"].timestamp:null;let g=null;l&&(g=n||o?l.all_time_realtime.timestamp:l["30d_realtime"].timestamp);const O=g!==f,_=e=>Object(d.b)(c.a._("Updated {{ lastUpdated }}","closeup.partnerModule.lastUpdated","Indicates to the user when the stats were last updated"),{lastUpdated:e}).join(""),x={timeframe:"",lastUpdated:""};if(l)if(m){const e=l["24h_realtime"].impression>=(n||o?l.all_time_realtime.impression:l["30d_realtime"].impression);x.timeframe=e?c.a._("Last 24 hours","closeup.partnerModule.lastUpdatedRealtime","Stats from the stated duration"):n||o?c.a._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"):c.a._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),x.lastUpdated=c.a._("Real-time estimates","closeup.partnerModule.lastUpdatedRealtime","Indicates to user that the stats are being updated in real-time")}else if(O||j>48)if(n||o){const e=Object(a.a)(l.all_time_realtime.timestamp);x.timeframe=c.a._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"),x.lastUpdated=_(e)}else{const e=Object(a.a)(l["30d_realtime"].timestamp);x.timeframe=c.a._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),x.lastUpdated=_(e)}else{const e=Object(a.a)(l["24h_realtime"].timestamp);x.timeframe=c.a._("Last 24 hours","closeup.partnerModule.lastUpdatedHoursAgo","Stats from the stated duration"),x.lastUpdated=_(e)}else x.lastUpdated=c.a._("Stats are currently unavailable","closeup.partnerModule.statsUnavailable","Stats status for the pin");return Object(i.jsxs)(p.e,{alignItems:n||"lg"!==t?"center":void 0,display:n||"lg"!==t?"flex":void 0,children:[Object(i.jsx)(p.X,{align:"right",color:"gray",size:"sm",children:x.lastUpdated}),(n||["md","sm"].includes(t))&&!!l&&Object(i.jsx)(p.X,{color:"gray",inline:!0,size:"sm",children:" ・"}),Object(i.jsx)(p.X,{align:"right",color:"gray",size:"sm",children:x.timeframe})]})}function f(e){return Object(l.a)(c.a.ngettext("Last {{ count }} Day","Last {{ count }} Days",e,"Previous {{ count }} days from current date","Previous {{ count }} days from current date"),{count:e})}},FgHp:function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("wvsB"),o=n("7w6Q"),r=n("jZDM");const a="video",s={},c=(e,t)=>{if(o.a.increment("web_prefetch.attempt",1),window.navigator&&window.navigator.connection){const e=window.navigator.connection;if(e.saveData)return void o.a.increment("web_prefetch.saveDataOn",1);if(/2g/.test(e.effectiveType))return void o.a.increment("web_prefetch.poorConnection",1)}if(!(()=>{const e=document.createElement("link");return!!e.relList&&!!e.relList.supports&&e.relList.supports("prefetch")})())return void o.a.increment("web_prefetch.prefetchNotSupported",1);const n=Object(r.a)(e),i=document.createElement("link");var a;(i.rel="prefetch",i.href=e,i.as=t,o.a.increment("web_prefetch.addedToDom",1,{hostname:n.hostname||"unknown"}),i.onload=()=>{s[e]&&(s[e].loaded=!0),o.a.increment("web_prefetch.load.success",1,{hostname:n.hostname||"unknown"})},i.onerror=()=>{o.a.increment("web_prefetch.load.error",1,{hostname:n.hostname||"unknown"})},s[e])||(null===(a=document.head)||void 0===a||a.appendChild(i),s[e]={added:!0})};function l(e){const{pages:t,pages_preview:n}=e,o=(n?n[0]:t[0]).blocks.find(e=>3===e.block_type);if(o&&o.video){const{hlsv3:e,mp4:t}=Object(i.c)(o.video,i.a)||{},n=e||t;n&&c(n.url,a)}}},HJ6M:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r}));const i=-1,o=5,r=6},"HOY+":function(e,t,n){var i=n("nKUr"),o=n("q1tI"),r=n("/MKj"),a=n("jmst"),s=n("BUdX"),c=n("Ye/N"),l=n("qhFy"),d=n("n6mq");const u={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},p={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},b={overlay:{__style:{backgroundColor:"#000"}}};function h({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:o,pinTitle:r,pin:a}){const{id:s}=a;return Object(i.jsxs)(d.x,{alt:r||c.a._("pin image","image of a pin","image of a pin"),naturalHeight:t,naturalWidth:n,src:e,children:[Object(i.jsx)(d.e,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:b.overlay}),Object(i.jsxs)(d.e,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%","data-test-id":"video-end-card-"+s,children:[Object(i.jsx)(d.W,{rounding:2,children:Object(i.jsxs)(d.e,{display:"flex",justifyContent:"center",padding:2,children:[Object(i.jsx)(d.v,{accessibilityLabel:c.a._("Visit site","Button when pressed goes to pin's website","Button when pressed goes to pin's website"),color:"white",dangerouslySetSvgPath:p,size:25}),Object(i.jsx)(d.e,{margin:1}),Object(i.jsx)(d.X,{color:"white",truncate:!0,weight:"bold",children:c.a._("Visit site","Button when pressed goes to pin's website","Button when pressed goes to pin's website")})]})}),Object(i.jsx)(d.e,{margin:3}),Object(i.jsx)(d.W,{onTap:o,rounding:2,children:Object(i.jsxs)(d.e,{display:"flex",justifyContent:"center",padding:2,children:[Object(i.jsx)(d.v,{accessibilityLabel:c.a._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:u,size:25}),Object(i.jsx)(d.e,{margin:1}),Object(i.jsx)(d.X,{color:"white",truncate:!0,weight:"bold",children:c.a._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video")})]})})]})]})}var j=n("51gp"),m=n("Y8Sn");const f=new Map;let g=null;const O=e=>{e.forEach(e=>{const t=f.get(e.target);t&&t(e)})};function _({onVisibilityChanged:e,inAdsDesktopVideoExperiment:t,trackFullVisible:n,rootMargin:i}){const r=Object(o.useRef)(null);let a=!1;const s=()=>{var t;r.current instanceof HTMLElement&&(t=r.current,f.has(t))&&(a&&(e(!1),a=!1))},c=Object(o.useCallback)(i=>{r.current instanceof HTMLElement&&((e,t="-64px 0px 0px 0px",n)=>{const i={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};g=g||new window.IntersectionObserver(O,i),f.set(e,n),g.observe(e)})(r.current,i,i=>{if(!f.has(r.current))return;const o=t?i.intersectionRatio>=.5:i.intersectionRatio>0||i.isIntersecting,c=n?i.intersectionRatio>=1:o,l=n?0===i.intersectionRatio:!c;!a&&c?(t=>{const n=t.intersectionRatio>0||t.isIntersecting;a=n,a&&e(!0)})(i):a&&l&&s()})},[r.current]);return Object(o.useEffect)(()=>(c(i),()=>{var e;r.current instanceof HTMLElement&&(s(),e=r.current,g.unobserve(e),f.delete(e))}),[c]),r}var x=n("vZlu");const y=new Set(["ConversationView","TodayTabFeed"]);var w=Object(r.connect)(void 0,e=>({setCurrentVideo:t=>e(Object(x.c)(t))}))((function({inAdsDesktopVideoExperiment:e,isAutoplay:t,cropHeight:n,currentTime:r,lowResOnly:a,highResOnly:s,onLoad:u,onError:p,saved:b,onTimeChange:f,isExperimentalPinRep:g,pin:O,surface:x,playing:w,rootMargin:v,setCurrentVideo:T,viewType:S,viewParameter:I,onVisibilityChanged:P,trackFullVisible:E,inVisibilityChangedHookExperiment:R}){const[C,k]=Object(o.useState)(0),[N,D]=Object(o.useState)(!1),[B,L]=Object(o.useState)(!0),A=Object(m.g)(O),M=A&&!O.is_eligible_for_web_closeup,U=g&&A&&O.is_eligible_for_web_closeup&&!y.has(x),G=M||!g||!A,F=_({onVisibilityChanged:P,inAdsDesktopVideoExperiment:e,trackFullVisible:E,rootMargin:v});let H=!w;e&&(H=B,t&&w&&B&&L(!1));const{url:V}=O.images["236x"]||{},{id:z,is_promoted:q}=O,W=Object(o.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),k(0),T({pinId:z,isPromoted:q,currentTime:0}),D(!1)},[q,z,T,C]),Y=Object(o.useCallback)(()=>{q&&D(U),k(e=>e+1)},[U,C]);if(!O.videos||!O.videos.video_list.V_HLSV4)return null;const{height:X,thumbnail:K,width:J,url:$}=O.videos.video_list.V_HLSV4||{},Z=O.videos.id,Q=[{type:"video/m3u8",src:$}];return N&&A?Object(i.jsx)(d.e,{ref:R?F:null,children:Object(i.jsx)(h,{backgroundImage:V,naturalHeight:X,naturalWidth:J,pin:O,onRestartVideo:W})}):H?Object(i.jsx)(d.e,{ref:R?F:null,children:Object(i.jsx)(l.b,{lowResOnly:a,highResOnly:s,onLoad:u,onError:p,pin:O,saved:b})}):Object(i.jsx)(d.e,{ref:R?F:null,children:Object(i.jsx)(j.a,{cropHeight:n,rootMargin:v,surface:x,inAdsDesktopVideoExperiment:e,contextLogData:{viewParameter:I,component:0,objectId:O.id,video_id:Z,view:S},accessibilityMaximizeLabel:c.a._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:c.a._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:c.a._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:c.a._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:c.a._("Play","Play button on video","Play button on video"),accessibilityUnmuteLabel:c.a._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:J/X,captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:r||-1},loop:G,onTimeChange:f,playing:w,poster:V||K,src:Q,videoStartTime:r,volume:0,onEnded:Y})})}));function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const T=Object(a.a)(w);class S extends o.Component{constructor(...e){super(...e),v(this,"calculateCurrentVideoTime",()=>{const{currentTimeFromPinRep:e,pin:t,videosAutoplaying:n}=this.props,{id:i}=t,o=Object(m.b)(i,n);return this.currentVideoCurrentTime||o||e}),v(this,"handleVisibilityChanged",e=>{const{currentTimeFromPinRep:t,pin:n,setCurrentVideo:i,pauseAutoplay:o,videosAutoplaying:r}=this.props,{id:a,is_promoted:s}=n,c=Object(m.k)(a,r),l=Object(m.a)(a,r);e?(s||l)&&i({pinId:a,isPromoted:s,currentTime:this.calculateCurrentVideoTime()}):!e&&c&&o({pinId:a,isPromoted:s,currentTime:t||this.currentVideoCurrentTime})}),v(this,"handleVideoTimeChange",e=>{const{pin:t,onTimeChange:n,videosAutoplaying:i}=this.props,{id:o}=t;Object(m.k)(o,i)&&(this.currentVideoCurrentTime=e.time),n&&n(e)})}componentDidMount(){this.props.onLoad&&this.props.onLoad()}componentDidUpdate(e){const{appInFocus:t}=e,{appInFocus:n,currentTimeFromPinRep:i,pauseAutoplay:o,pin:r,setCurrentVideo:a,videosAutoplaying:s}=this.props,{id:c,is_promoted:l}=r,d=Object(m.k)(c,s);n!==t&&!n&&d?(this.pausedDueToBrowserOutOfFocus=!0,o({pinId:c,isPromoted:l,currentTime:i||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&n&&(this.pausedDueToBrowserOutOfFocus=!1,a({pinId:c,isPromoted:l,currentTime:this.calculateCurrentVideoTime()}))}componentWillUnmount(){const{currentTimeFromPinRep:e,pauseAutoplay:t,pin:n,videosAutoplaying:i}=this.props,{id:o,is_promoted:r}=n;Object(m.k)(o,i)&&t({pinId:o,isPromoted:r,currentTime:e||this.currentVideoCurrentTime})}render(){const{cropHeight:e,isAutoplay:t,pin:n,surface:o,videosAutoplaying:r,viewParameter:a,viewType:c,highResOnly:l,lowResOnly:d,onError:u,onLoad:p,saved:b,inAdsDesktopVideoExperiment:h,isExperimentalPinRep:j,rootMargin:f}=this.props,{id:g}=n,O=Object(m.b)(g,r),_=Object(m.k)(g,r)&&t,x=s.a.fromGlobalContext(),{anyEnabled:y}=x.experiments.getWithActivation("web_mqtt_finddomnode_deprecation");return y?Object(i.jsx)(w,{cropHeight:e,rootMargin:f,currentTime:O,inAdsDesktopVideoExperiment:h,isAutoplay:t,viewParameter:a,viewType:c,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:n,surface:o,playing:_,trackFullVisible:!1,highResOnly:l,lowResOnly:d,onError:u,onLoad:p,saved:b,isExperimentalPinRep:j,inVisibilityChangedHookExperiment:y}):Object(i.jsx)(T,{cropHeight:e,rootMargin:f,currentTime:O,inAdsDesktopVideoExperiment:h,isAutoplay:t,viewParameter:a,viewType:c,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:n,surface:o,playing:_,trackFullVisible:!1,highResOnly:l,lowResOnly:d,onError:u,onLoad:p,saved:b,isExperimentalPinRep:j})}}t.a=Object(r.connect)((e,t)=>({appInFocus:e.ui.app.appInFocus,isAutoplay:e.ui.app.isAutoplay,videosAutoplaying:e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}}}),(e,t)=>({pauseAutoplay:t=>e(Object(x.a)(t)),setCurrentVideo:t=>e(Object(x.c)(t))}))(S)},I7CA:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("nKUr"),o=n("n6mq");function r({children:e,additionalStyles:t={},enablePointerEvents:n=!1}){return Object(i.jsx)(o.e,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:n?"auto":"none",...t}},children:e})}},N89m:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("ynlw"),o=n("0nTG");function r(e){const{isProduct:t}=Object(i.a)(e);return t&&Object(o.c)(e)||""}},R6wO:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("nKUr"),o=n("q1tI"),r=n("n6mq");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s={__path:"M8.134 8.116a1.25 1.25 0 0 0-1.768 0L4.25 10.232 2.134 8.116A1.25 1.25 0 0 0 .366 9.884L2.483 12 .366 14.116a1.25 1.25 0 0 0 1.768 1.768l2.116-2.117 2.116 2.117a1.248 1.248 0 0 0 1.768 0 1.25 1.25 0 0 0 0-1.768L6.018 12l2.116-2.116a1.25 1.25 0 0 0 0-1.768M24 8v8a2.5 2.5 0 0 1-2.5 2.5h-8A2.5 2.5 0 0 1 11 16V8a2.5 2.5 0 0 1 2.5-2.5h8A2.5 2.5 0 0 1 24 8"};class c extends o.PureComponent{constructor(...e){super(...e),a(this,"state",{hovered:!1}),a(this,"handleMouseEnter",()=>this.setState({hovered:!0})),a(this,"handleMouseLeave",()=>this.setState({hovered:!1}))}render(){const{bold:e,icon:t,text:n,description:o,descriptionColor:a="darkGray",compact:c}=this.props,l=Array.isArray(n)?n.join(""):n;return Object(i.jsx)("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:Object(i.jsxs)(r.e,{alignItems:"start",color:this.state.hovered?"lightGray":"transparent",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,overflow:"hidden",paddingX:4,paddingY:2,title:l,children:[!c&&t&&Object(i.jsx)(r.e,{alignSelf:"center",flex:"none",padding:1,children:"unfollow"===t?Object(i.jsx)(r.v,{accessibilityLabel:"",color:"darkGray",dangerouslySetSvgPath:s,size:16}):Object(i.jsx)(r.v,{accessibilityLabel:"",color:"darkGray",icon:t,size:16})}),Object(i.jsxs)(r.e,{alignItems:c?"center":"start",direction:c?"row":"column",display:"flex",flex:"grow",padding:1,width:"100%",children:[Object(i.jsx)(r.X,{color:"darkGray",size:c?"sm":"md",weight:e?"bold":"normal",children:n}),Object(i.jsx)(r.e,{alignItems:"center",display:"flex",children:!c&&o&&Object(i.jsx)(r.e,{marginBottom:2,marginTop:1,children:Object(i.jsx)(r.X,{color:a,overflow:"normal",size:"sm",children:o})})})]})]})})}}a(c,"defaultProps",{bold:!0})},RwJG:function(e,t,n){t.a={debugPinImpressions:999,max:9999,pinActionWrapper:101,saved:102,storyPinImage:-1}},Te6n:function(e,t,n){n.r(t),n.d(t,"OverflowMenu",(function(){return f}));var i=n("nKUr"),o=n("q1tI"),r=n("/MKj"),a=n("ENn1"),s=n("jCsw"),c=n("Ye/N"),l=n("5871"),d=n("Zxas"),u=n("kVqD"),p=n("YxyV"),b=n("DJoW"),h=n("Y8Sn"),j=n("gD/Z"),m=n("n6mq");function f({feedbackData:e,feedbackType:t,hidePinFeedbackOverlay:n,isHomefeedContextualMenuTooltipExperience:r,pin:b,pinTitle:f,setForcePrimary:g,transparentBackground:O}){const{viewParameter:_,viewType:x}=Object(j.b)(),[y,w]=Object(o.useState)(!1),[v,T]=Object(o.useState)(),{ad_match_reason:S,board:I,category:P,description:E,id:R="",images:C,is_promoted:k,pinner:N,promoter:D,recommendation_reason:B,source_interest:L,videos:A}=b;var M;const U=(M=k?60:50,function(e){return Object(d.a)((e||"").trim(),M)})(E),G=Object(s.a)(C,"236x"),F=Object(h.j)(A),H=Object(u.a)(101,{component:0,element:981,feedback_type:t,objectId:R}),V=()=>{g(!1),n(),w(!1)};return Object(i.jsxs)(o.Fragment,{children:[Object(i.jsx)(m.e,{"data-test-id":"feedback-button",ref:T,children:Object(i.jsx)(m.w,{accessibilityLabel:c.a._("More information","accessibility label for overflow menu button","accessibility label for overflow menu button"),bgColor:O?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:({event:e})=>{y?V():(g(!0),w(!0)),H()},size:"sm"})}),y&&Object(i.jsx)(m.z,{children:Object(i.jsx)(m.s,{anchor:v,idealDirection:"right",onDismiss:V,positionRelativeToAnchor:!1,size:"md",children:Object(i.jsx)(l.a,{ad_match_reason:S,bestPinImgSrc:Object(p.d)(b),board:I,feedbackData:e,feedbackType:t,hideDownload:F,onLinkClick:()=>{y&&V()},onHide:V,onDownloadHideFlyout:()=>{g(!1),w(!1)},pinCategory:P,pinDescription:U,pinId:R,pinImgSrc:G,pinner:N,pinTitle:f,promoter:D,recommendationReason:B,reportPin:Object(a.a)({pin:b,viewParameter:_,viewType:x}),sourceInterest:L,viewParameter:_,viewType:x})})})]})}t.default=Object(r.connect)((function({experiences:e}){return{isHomefeedContextualMenuTooltipExperience:e&&e.eligibleExperiences&&e.eligibleExperiences[1000116]&&501093===e.eligibleExperiences[1000116].experience_id}}),(function(e,{pin:t}){return{hidePinFeedbackOverlay:()=>{e(Object(b.c)(t.id))}}}))(f)},UAdG:function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("nKUr"),o=n("q1tI"),r=n("/MKj"),a=n("fOIk"),s=n("Ye/N"),c=n("eOdZ");var l=n("n6mq");function d({favorited:e,favoriteCount:t,onFavorite:n,onUnfavorite:d,pinId:u,size:p}){const b=Object(r.useDispatch)(),[h,j]=Object(o.useState)(!1),[m,f]=Object(o.useState)(e),[g,O]=Object(o.useState)(null!=t?t:0),_=async()=>{var e;f(!m),j(!0),m?(O(g-1),await b((e=u,async t=>{await c.a.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callDelete(),t(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:-1,value:!1}}}(e))})),d(),j(!1)):(O(g+1),await b(function(e){return async t=>{await c.a.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callCreate(),t(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:1,value:!0}}}(e))}}(u)),n(),j(!1))},x=g<10?g:s.a._("9+","favoriteButton.favoriteCountText","Text shown when greater than 9 favorites on Pin");return Object(i.jsxs)(l.r,{alignItems:"center",gap:1,children:[void 0!==t&&g>0&&Object(i.jsx)(l.X,{size:"md",weight:"bold",children:x}),Object(i.jsx)(a.b,{isDisabled:h,isFavorited:m,onTap:()=>{_()},size:p})]})}},VJm5:function(e,t,n){var i=n("nKUr"),o=n("q1tI"),r=n("/MKj"),a=n("T+9/"),s=n("ZbwW"),c=n("Ye/N"),l=n("qhFy"),d=n("n6mq"),u=n("yjg8");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends o.Component{constructor(...e){super(...e),p(this,"state",{showBadge:!0}),p(this,"renderBadge",()=>{const{carouselData:e,isCloseup:t,showCarouselBadge:n}=this.props;if(!e)return null;const{showBadge:o}=this.state,{carousel_slots:r,index:a}=e,s=o?.8:0;return!t&&n?Object(i.jsx)(d.e,{display:"flex",justifyContent:"center",alignItems:"center",color:"darkGray",position:"absolute",right:!0,height:35,width:35,marginEnd:5,marginTop:5,rounding:2,dangerouslySetInlineStyle:{__style:{zIndex:1,opacity:s,transition:"opacity .3s"}},children:Object(i.jsx)(d.X,{color:"white",children:`${a+1}/${r.length}`})}):null})}componentDidMount(){this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)}componentDidUpdate(e){const{showBadge:t}=this.state,{carouselData:n}=e,{carouselData:i}=this.props;if(!n||!i)return;const{index:o}=n,{index:r}=i;t&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)),o!==r&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}componentWillUnmount(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}render(){const{isCloseup:e,carouselIndex:t,closeupHeight:n,closeupWidth:o=0,cropHeight:r,cropWidth:s,carouselData:p,highResOnly:b,lowResOnly:h,onError:j,onLoad:m,pinId:f,isEditMode:g,isDenseView:O}=this.props;if(!p)return null;const{carousel_slots:_=[],index:x}=p,y=void 0!==t?t:x,w=!e&&s,{images:v}=_[y];let T;T=e?o:w||(b?474:O?u.f:u.e);const S=v["236x"]||{},I=S.height||0,P=S.width||236,E=n||I/P*T;return Object(i.jsxs)(d.e,{height:E,display:"flex",alignItems:"center",overflow:"hidden","data-test-id":"carousel-pin",minHeight:l.a,children:[!g&&this.renderBadge(),Object(i.jsx)(a.a,{trackCarousel:!0,impressionType:"Pin",loggingId:f,slotIndex:x,viewParameter:72,viewType:1,children:Object(i.jsx)(d.e,{position:"absolute",height:E,width:T,overflow:"hidden"})},"carousel-impression-key-"+y),Object(i.jsx)(d.e,{width:T*_.length,dangerouslySetInlineStyle:{__style:{left:y*T*-1+"px",transition:"left .3s"}},left:!0,height:"100%",display:"flex",direction:"row",position:"relative",children:_.map((t,a)=>((e,t,n,o,r,a,s,l,u,p,b,h,j,m)=>{const{images:f,details:g=""}=e;let O,_=236,x=236,y="";l?(_=u||0,x=p||0,y=f&&(f["564x"]&&f["564x"].url||f["736x"]&&f["736x"].url||f["236x"]&&f["236x"].url)):o?(_=474,x=f&&Math.min(_/.8,_/(f["564x"].width/f["564x"].height)),y=f&&f["564x"].url):f&&f["736x"]?(x=f&&f["736x"]&&f["736x"].height,_=f&&f["736x"]&&f["736x"].width,y=f&&f["736x"]&&f["736x"].url):f&&f["236x"]&&(x=f&&f["236x"]&&f["236x"].height,_=f&&f["236x"]&&f["236x"].width,y=f&&f["236x"]&&f["236x"].url),j&&m&&(x=Math.min(j*m,x)),O=r?f["236x"].url+" 1x":o?f["564x"].url+" 1x":[f["474x"]&&f["474x"].url+" 2x",f["736x"]&&f["736x"].url+" 3x",f.orig&&f.orig.url+" 4x"].filter(Boolean).join(", ");const w=g||`${c.a._("carousel image","Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed","Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed")} ${n}`;return Object(i.jsx)(d.e,{height:h?void 0:x,width:h?void 0:_,children:Object(i.jsx)(d.e,{height:h?b:void 0,width:h||void 0,children:Object(i.jsx)(d.x,{alt:w,fit:h?"cover":"none",naturalHeight:x,naturalWidth:_,onError:a,onLoad:s,src:y,srcSet:O})})},`carousel-slot-${t}-${n}`)})(t,f,a,b,h,j,m,e,o,n,r,s,E,T))})]})}}p(b,"defaultProps",{showCarouselBadge:!0});t.a=Object(r.connect)(({pins:e},{pinId:t,pin:n})=>{const i=e[t]||n;return{carouselData:Object(s.a)(i)}},()=>({}))(b)},W5T3:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var i=n("nKUr"),o=n("Jr++"),r=n("n6mq");const a={impressed:{backgroundColor:"#adebad"}},s=()=>void 0!==Object(o.a)().debug_impression_log;function c({debugImpressionState:e="paused",slotIndex:t}){return"paused"===e?null:Object(i.jsx)(r.e,{dangerouslySetInlineStyle:{__style:a.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:Object(i.jsx)(r.e,{position:"absolute",top:!0,left:!0,padding:2,color:"darkGray",children:Object(i.jsx)(r.X,{color:"white",children:Object(i.jsx)("span",{className:"deprecatedTextSizeXL",children:t})})})})}},"XLg/":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n("q1tI");const o=120;function r(e,t,n){e.current&&clearTimeout(e.current),e.current=null,n&&(t?e.current=setTimeout(n,t):n())}function a(e,t=0,n=o){const a=Object(i.useRef)(),s=Object(i.useRef)(e),[c,l]=Object(i.useState)(e?"active":"inactive");return e!==s.current&&(e?"inactive"===c?(l("starting"),r(a,t,()=>{l("active")})):"ending"===c&&(l("active"),r(a)):"active"===c?(l("ending"),r(a,n,()=>{l("inactive")})):"starting"===c&&(l("inactive"),r(a))),Object(i.useEffect)(()=>()=>r(a),[]),s.current=e,c}},XSD5:function(e,t,n){function i(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{pinId:e,index:t}}}n.d(t,"a",(function(){return i}))},Xuu2:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("1Fta"),o=n("Ye/N"),r=n("vvax");function a({feedbackOptions:e,pin:t,viewParameter:n}){const{board:a,pinner:s}=t,{getFeedbackType:c}=Object(i.a)({i18n:o.a,interpolateNamedTemplate:r.b});return c({board:a,feedback:e,pin:t,pinner:s,viewParameter:n})}},b9Z9:function(e,t,n){n.d(t,"a",(function(){return A}));var i=n("nKUr"),o=n("q1tI"),r=n("n6mq");function a({isHorizontalDesign:e}){return e?Object(i.jsxs)(r.e,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0,children:[Object(i.jsx)(r.e,{opacity:.5,color:"midnight",height:"100%",width:"100%",flex:"grow"}),Object(i.jsx)(r.e,{color:"white",width:"2px",flex:"none"}),Object(i.jsx)(r.e,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),Object(i.jsx)(r.e,{color:"white",width:"2px",flex:"none"}),Object(i.jsx)(r.e,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})]}):Object(i.jsxs)(r.e,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0,children:[Object(i.jsx)(r.e,{opacity:.5,color:"midnight",height:"100%",flex:"grow"}),Object(i.jsx)(r.e,{color:"white",width:"2px",flex:"none"}),Object(i.jsxs)(r.e,{display:"flex",height:136,direction:"column",flex:"grow",children:[Object(i.jsx)(r.e,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),Object(i.jsx)(r.e,{color:"white",height:"2px",flex:"none"}),Object(i.jsx)(r.e,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})]})]})}var s=n("Ye/N");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l={__style:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.43) 0%, rgba(0,0,0,0) 60%)"}};class d extends o.PureComponent{constructor(...e){super(...e),c(this,"state",{isLoaded:[!1,!1,!1],isMounted:!1}),c(this,"getImageArray",()=>{const{userPins:e,showcase:t}=this.props;let n=[];return e&&0!==e.length?(t&&0!==t.length?t&&1===t.length?n=t.filter(e=>"board"===e.type)[0].images["550x"].map(e=>e.url):t&&(n=t.filter(e=>"board"===e.type).map(e=>e.image_cover_url)):n=e.map(e=>(e.images["136x136"]||e.images["236x"]||e.images["736x"]).url),n):n}),c(this,"getImage",(e,t)=>{const{isLoaded:n}=this.state,o={transition:"opacity 500ms",opacity:n[t]?1:0};return Object(i.jsx)(r.e,{dangerouslySetInlineStyle:{__style:o},color:"white",height:"100%",width:"100%",children:!!e&&Object(i.jsx)(r.x,{naturalHeight:1,src:e,fit:"cover",alt:s.a._("user's pin","image of one of a user's pins","image of one of a user's pins"),naturalWidth:1,color:"lightGray",onLoad:()=>this.handleLoad(t)})})}),c(this,"handleLoad",e=>{const{isLoaded:t,isMounted:n}=this.state,i=[...t];i[e]=!0,n&&this.setState({isLoaded:i})})}componentDidMount(){this.setState({isMounted:!0}),this.getImageArray()}render(){const{isHorizontalDesign:e}=this.props,t=this.getImageArray();let n=null;return n=1===t.length?Object(i.jsx)(r.e,{height:"100%",display:"flex",direction:"row",children:this.getImage(t[0],0)}):2===t.length?Object(i.jsxs)(r.e,{height:"100%",display:"flex",direction:"row",children:[this.getImage(t[0],0),Object(i.jsx)(r.e,{color:"white",width:"1px",flex:"none"}),this.getImage(t[1],1)]}):e?Object(i.jsxs)(r.e,{height:"100%",width:"100%",display:"flex",direction:"row",children:[Object(i.jsx)(r.e,{height:"100%",width:"100%",children:this.getImage(t[0],0)}),Object(i.jsx)(r.e,{color:"white",width:"2px",flex:"none"}),Object(i.jsx)(r.e,{height:"100%",width:"100%",children:this.getImage(t[1],1)}),Object(i.jsx)(r.e,{color:"white",width:"2px",flex:"none"}),Object(i.jsx)(r.e,{height:"100%",width:"100%",children:this.getImage(t[2],2)})]}):Object(i.jsxs)(r.e,{height:"100%",width:"100%",display:"flex",direction:"row",children:[Object(i.jsx)(r.e,{height:"100%",flex:"grow",children:this.getImage(t[0],0)}),Object(i.jsx)(r.e,{color:"white",width:"2px",flex:"none"}),Object(i.jsxs)(r.e,{display:"flex",height:136,direction:"column",flex:"grow",children:[Object(i.jsx)(r.e,{width:"100%",flex:"grow",children:this.getImage(t[1],1)}),Object(i.jsx)(r.e,{color:"white",height:"2px",flex:"none"}),Object(i.jsx)(r.e,{width:"100%",flex:"grow",children:this.getImage(t[2],2)})]})]}),Object(i.jsx)(r.e,{height:136,display:"flex",direction:"column",children:Object(i.jsxs)(r.e,{width:"100%",position:"relative",flex:"grow",children:[Object(i.jsx)(a,{isHorizontalDesign:e}),n,Object(i.jsx)(r.e,{dangerouslySetInlineStyle:l,height:"100%",width:"100%",position:"absolute",top:!0,left:!0})]})})}}var u=n("FDmi"),p=n("qD10"),b=n("U4JR");function h(e,t){Object(b.b)(101,{view:e,viewParameter:t,component:13406,element:11373})}var j=e=>{const{avatarUrl:t,isVerified:n,isHorizontalDesign:o,url:a,userFullName:s,viewParameter:c,viewType:l}=e,d=o?80:86;return Object(i.jsx)(r.e,{dangerouslySetInlineStyle:{__style:{border:"2px white solid",marginTop:o?-58:-64,marginLeft:o?-6:0,zIndex:1}},display:"flex",flex:"none",rounding:"circle",children:Object(i.jsx)(r.e,{flex:"none",height:d,width:d,children:Object(i.jsx)(p.a,{onClick:h(l,c),to:a,stopPropagation:!0,children:Object(i.jsx)(u.a,{name:s,src:t,verified:n})})})})},m=n("Zxas");function f({text:e,singleLineMaxCharacters:t,isBold:n,isHorizontalDesign:o,numLines:a}){const s=a*t,c=Object(m.a)(e,s);return n?Object(i.jsx)(r.X,{align:o?"left":"center",overflow:"normal",size:"md",weight:"bold",children:c}):Object(i.jsx)(r.X,{align:o?"left":"center",overflow:"normal",size:"md",weight:"normal",color:o?"darkGray":"gray",children:c})}function g({description:e,domainUrl:t,isHorizontalDesign:n,userFullName:o}){const a=e||t,s={placeholder:{__style:{transition:"opacity 200ms",opacity:a?0:1}},subtitle:{__style:{transition:"opacity 200ms",opacity:a?1:0}}};return Object(i.jsxs)(r.e,{position:"relative",width:"100%",marginTop:n?4:3,marginBottom:3,alignItems:n?"start":"center",display:"flex",direction:"column",children:[Object(i.jsx)(r.e,{height:18,width:"100%",children:Object(i.jsx)(r.X,{align:n?"left":"center",truncate:!0,size:n?"lg":"md",weight:"bold",children:o})}),Object(i.jsxs)(r.e,{marginTop:2,overflow:"hidden",position:"relative",width:"100%",children:[Object(i.jsxs)(r.e,{alignItems:"center",dangerouslySetInlineStyle:s.placeholder,direction:"column",display:"flex",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:[Object(i.jsx)(r.e,{color:"lightGray",rounding:"pill",width:180,flex:"grow"}),Object(i.jsx)(r.e,{height:6,flex:"none"}),Object(i.jsx)(r.e,{color:"lightGray",rounding:"pill",width:140,flex:"grow"})]}),n&&!!t&&Object(i.jsx)(r.e,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",marginTop:-1,children:Object(i.jsx)(f,{numLines:2,isBold:!0,isHorizontalDesign:n,singleLineMaxCharacters:36,text:t})}),n&&!!e&&Object(i.jsx)(r.e,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",marginTop:2,children:Object(i.jsx)(f,{isHorizontalDesign:n,numLines:2,singleLineMaxCharacters:36,text:e})}),!n&&!!a&&Object(i.jsx)(r.e,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",children:Object(i.jsx)(f,{isHorizontalDesign:n,numLines:2,singleLineMaxCharacters:27,text:a})})]})]})}var O=n("/MKj"),_=n("oRao"),x=n("vvax");function y({followText:e,followerCount:t,isHorizontalDesign:n,showFollowers:o,userFollowed:a}){return o?Object(x.b)(s.a._("{{ followCount }} {{ followText }}"),{followCount:Object(i.jsx)(r.e,{"data-test-id":"followCount",display:"inlineBlock",marginEnd:1,opacity:a?void 0:.8,children:Object(i.jsx)(r.X,{color:a?"gray":"white",size:n?"sm":"md",align:"center",weight:"bold",children:Object(i.jsx)(_.a,{value:t||0,shortform:!0,shortformMaximumFractionDigits:0})})},"followCount"),followText:Object(i.jsx)(r.e,{"data-test-id":"followText",display:"inlineBlock",children:Object(i.jsx)(r.X,{weight:"bold",color:a?"darkGray":"white",size:n?"sm":"md",overflow:"normal",align:"center",children:e})},"followText")}):Object(i.jsx)(r.e,{"data-test-id":"followText",children:Object(i.jsx)(r.X,{weight:"bold",color:a?"darkGray":"white",size:n?"sm":"md",overflow:"normal",align:"center",children:e})},"followText")}var w=n("M1Uz"),v=n("nGHF"),T=n("ZVOf");var S=Object(O.connect)((e,{id:t})=>{const n=(e.users||{})[t];return{userFollowed:!!n&&n.explicitly_followed_by_me}},e=>({follow:t=>e(Object(T.a)(t)),unfollow:t=>e(Object(T.c)(t))}))((function({followerCount:e,isHorizontalDesign:t,showFollowerCount:n,userFollowed:a,follow:c,id:l,viewParameter:d,viewType:u,fullName:p,imageUrl:h,profileUrl:j}){const{showOneToast:m}=Object(v.b)(),f=a?s.a._("Following","User follow button","User follow button"):s.a._("Follow","User follow button","User follow button"),g=e=>Object(b.b)(e,{view:u,viewParameter:d,component:13406,element:11372});return Object(i.jsx)(r.e,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:t?"-22px":0}},display:"flex",justifyContent:"center",position:"relative",children:Object(i.jsx)(r.W,{onTap:()=>{a?(Object(T.c)(l),g(46)):(c(l),g(45),m(({onHide:e})=>Object(i.jsx)(w.a,{onHide:e,text:Object(i.jsxs)(o.Fragment,{children:[Object(i.jsx)(r.X,{children:s.a._("Now following","text that comes before a board/user name in toast","text that comes before a board/user name in toast")}),Object(i.jsx)(r.X,{weight:"bold",children:p})]}),href:j,imageUrl:h})))},rounding:"pill",children:Object(i.jsx)(r.e,{alignItems:"center",color:a?"lightGray":"red",direction:"row",display:"flex",justifyContent:"center",paddingX:t?5:6,paddingY:t?3:4,rounding:"pill",children:Object(i.jsx)(y,{followerCount:e,followText:f,isHorizontalDesign:t,showFollowers:n&&0!==e,userFollowed:a})})})})}));function I({avatarUrl:e,description:t,domainUrl:n,followerCount:o,id:a,isCreator:s,isHorizontalDesign:c,isVerified:l,userFullName:d,username:u,viewParameter:p,viewType:b}){const h=function(e){return"/"+e}(u);return Object(i.jsxs)(r.e,{alignItems:c?"start":"center",display:"flex",direction:"column",paddingX:c?5:6,paddingY:c?3:4,marginTop:2,width:"100%",children:[Object(i.jsx)(j,{avatarUrl:e,isHorizontalDesign:c,isVerified:l,url:h,userFullName:d,viewType:b,viewParameter:p}),c&&Object(i.jsxs)(r.e,{position:"relative",width:"100%",children:[Object(i.jsx)(r.e,{display:"flex",marginTop:-2,marginEnd:-2,position:"absolute",right:!0,top:!0,children:Object(i.jsx)(S,{fullName:d,followerCount:o,id:a,imageUrl:e,isHorizontalDesign:c,profileUrl:h,showFollowerCount:s})}),Object(i.jsx)(r.e,{width:"100%",display:"flex",left:!0,marginTop:1,children:Object(i.jsx)(g,{description:t,domainUrl:n,isHorizontalDesign:c,userFullName:d})})]}),!c&&Object(i.jsxs)(r.e,{width:"100%",children:[Object(i.jsx)(g,{userFullName:d,domainUrl:n,description:t,isHorizontalDesign:c}),Object(i.jsx)(r.e,{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",children:Object(i.jsx)(S,{followerCount:o,fullName:d,id:a,imageUrl:e,isHorizontalDesign:c,profileUrl:h,showFollowerCount:s})})]})]})}var P=n("TgLd");const E=24;function R({anchor:e,children:t,isHorizontalDesign:n}){if(!e)return null;const o=n?320:236,{left:a,top:s,width:c,height:l}=e.getBoundingClientRect(),d=a+window.pageXOffset,u=s+window.pageYOffset,p=d+c+o+12>window.innerWidth,b={left:p?d:d+c,top:u+l/2},h={borderRadius:21,boxShadow:"0 9px 26px rgba(0, 0, 0, 0.4)",left:p?-12-o:12,top:-o/2-44},j={top:-12,left:-12,fill:"white"},m=p?"M0 0 L12 12 L0 24":"M24 0 L12 12 L24 24";return Object(i.jsxs)(r.e,{position:"absolute",zIndex:P.a,dangerouslySetInlineStyle:{__style:b},children:[Object(i.jsx)(r.e,{position:"absolute",color:"white",dangerouslySetInlineStyle:{__style:h},width:o,overflow:"hidden",children:t}),Object(i.jsx)(r.e,{position:"absolute",dangerouslySetInlineStyle:{__style:j},children:Object(i.jsx)("svg",{width:E,height:E,children:Object(i.jsx)("path",{d:m})})})]})}var C=n("eOdZ"),k=n("LT60"),N=n("v/Q4"),D=n("pLLR");function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class L extends o.PureComponent{constructor(e){super(e),B(this,"anchorRef",Object(o.createRef)()),B(this,"loadUser",()=>{const{username:e}=this.props,{isMounted:t}=this.state;e&&(C.a.create("UserResource",{username:e,field_set_key:"profile"}).callGet().then(e=>{t&&this.setState({detailedUser:e.resource_response.data})}),C.a.create("UserPinsResource",{username:e,page_size:3,field_set_key:"grid_item",isPrefetch:!1}).callGet().then(e=>{t&&this.setState({userPins:e.resource_response.data})}),C.a.create("ShowcaseResource",{username:e,page_size:2,isPrefetch:!1}).callGet().then(e=>{t&&this.setState({showcase:e.resource_response.data})}),t&&this.setState({isLoaded:!0}))}),B(this,"handleScroll",()=>{clearTimeout(this.openTimeout),this.state.isMounted&&(this.setState({isVisible:!1}),this.forceUpdate())}),B(this,"timeoutDismiss",()=>{this.dismissTimeout=setTimeout(()=>{this.state.isMounted&&(this.setState({isVisible:!1}),clearTimeout(this.openTimeout))},150)}),B(this,"handleDisplayCard",()=>{const{isDarkPromoter:e,pinId:t,requestContext:n,viewParameter:i}=this.props,{currentPinId:o,isLoaded:r,isMounted:a}=this.state;clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),t&&o!==t&&this.forceUpdate(),t&&this.setState({currentPinId:t});const{group:s}=n.experiments.getWithActivation("web_avatar_hover_cards_v2");156!==i&&0!==i||e||!["enabled","enabled2_vertical","enabled2_horizontal"].includes(s)?a&&this.setState({isVisible:!1}):(r||this.loadUser(),this.openTimeout=setTimeout(()=>{a&&this.setState({isVisible:!0})},300))}),B(this,"handleHideCard",()=>{this.timeoutDismiss()}),this.state={currentPinId:e.pinId,detailedUser:null,isMounted:!1,isLoaded:!1,isVisible:!1,showcase:null,user:null,userPins:null}}componentDidMount(){this.setState({isMounted:!0}),window.addEventListener("scroll",this.handleScroll)}componentWillUnmount(){this.setState({isMounted:!1}),clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),window.removeEventListener("scroll",this.handleScroll)}static getDerivedStateFromProps(e,t){const{user:n}=e,{detailedUser:i}=t,o={user:{}};return n&&(o.user=n),i&&(o.user={...o.user,...i}),o}render(){const{avatarSize:e,children:t,requestContext:n,username:o,viewer:a,viewParameter:s,viewType:c}=this.props,{isVisible:l,showcase:u,user:p,userPins:b}=this.state,{about:h,domain_url:j,follower_count:m,full_name:f,id:g,image_medium_url:O,show_creator_profile:_,verified_identity:x}=p||{},y=a.isAuth&&a.id===g,w=Boolean(null==x?void 0:x.verified),{group:v}=n.experiments.getWithoutActivation("web_avatar_hover_cards_v2"),T="enabled2_horizontal"===v;return Object(i.jsxs)(r.e,{onMouseOver:this.handleDisplayCard,onFocus:this.handleDisplayCard,onMouseLeave:this.handleHideCard,children:[Object(i.jsxs)(r.e,{marginStart:-2,marginEnd:-2,paddingX:2,position:"relative",children:[Object(i.jsx)(r.e,{height:e,left:!0,marginStart:2,position:"absolute",ref:this.anchorRef,top:!0,width:e}),t]}),!y&&!!p&&!!o&&l&&Object(i.jsx)(r.e,{children:Object(i.jsx)(k.a,{children:Object(i.jsx)(r.z,{children:Object(i.jsx)(R,{anchor:this.anchorRef.current,isHorizontalDesign:T,children:Object(i.jsx)(r.e,{color:"white",zIndex:P.a,onFocus:this.handleDisplayCard,onMouseOver:this.handleDisplayCard,onMouseLeave:this.handleHideCard,position:"relative",width:"100%",children:Object(i.jsxs)(r.e,{width:"100%",children:[Object(i.jsx)(d,{isHorizontalDesign:T,userPins:b,showcase:u}),Object(i.jsx)(I,{avatarUrl:null!=O?O:"",description:null!=h?h:"",domainUrl:j,followerCount:null!=m?m:0,id:null!=g?g:"",isCreator:_,isHorizontalDesign:T,isVerified:null!=w&&w,userFullName:null!=f?f:"",username:o,viewParameter:s,viewType:c})]})})})})})})]})}}function A(e){const t=Object(D.d)(),n=Object(N.a)();return Object(i.jsx)(L,{...e,requestContext:t,viewer:n})}},dfU2:function(e,t,n){n.d(t,"a",(function(){return m}));var i=n("nKUr"),o=n("q1tI"),r=n("I7CA"),a=n("Ye/N"),s=n("qD10"),c=n("eqXv"),l=n("tMjw"),d=n("U4JR"),u=n("QAzJ"),p=n("n6mq");const b={background:{base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:l.a,filter:"blur(10px)",opacity:1}},backdrop:{base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},feedbackOverlayContainer:{base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}},navigateLinkStyle:{color:"white",textDecorationColor:"white",cursor:"pointer"}},h=["followed","related","search"],j=["pfy","pfyBoard"];function m({feedbackType:e,isHomefeedTunerVariantExp:t,pin:n,hideContents:m=!1}){const[f,g]=Object(o.useState)(!1),[O,_]=Object(o.useState)(!1);Object(o.useEffect)(()=>g(!0),[]);const x=()=>_(!0),{feedbackText:y,images:w,showFeedbackOverlay:v,undoAction:T,undoText:S}=n,I=w&&w["236x"].url,{image:P,subTitle:E,title:R,unfollow:C}=y,k=!h.includes(e),N=j.includes(e),D=()=>{Object(d.b)(101,{view:1,viewParameter:92,element:11347})},{anyEnabled:B}=Object(u.d)("hfp_web_homefeed_tuning_mode");return Object(i.jsxs)(p.e,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:l.a}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[Object(i.jsxs)(p.e,{dangerouslySetInlineStyle:{__style:{borderRadius:l.a}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[I&&Object(i.jsx)(r.a,{additionalStyles:{...b.background.base,...f?b.background.blurred:{},backgroundImage:`url("${I}")`}}),Object(i.jsx)(r.a,{additionalStyles:{...b.backdrop.base,...b.backdrop.blurred}})]}),Object(i.jsx)(p.e,{dangerouslySetInlineStyle:{__style:{...b.feedbackOverlayContainer.base,...!v&&f?b.feedbackOverlayContainer.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%",children:!m&&Object(i.jsx)(p.e,{height:"100%",children:Object(i.jsxs)(p.e,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[Object(i.jsx)(p.e,{marginBottom:2,children:Object(i.jsx)(p.u,{color:"white",size:"sm",children:R})}),Object(i.jsxs)(p.e,{display:"flex",marginBottom:1,children:[P&&Object(i.jsx)(p.e,{marginEnd:3,children:Object(i.jsx)(p.C,{width:P.width,height:P.height,rounding:2,wash:!0,children:Object(i.jsx)(p.x,{alt:E||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:P.url||""})})}),Object(i.jsx)(p.X,{color:"white",overflow:"normal",children:E})]}),t?Object(i.jsxs)(o.Fragment,{children:[Object(i.jsx)(p.e,{children:Object(i.jsx)(p.W,{onTap:T,children:Object(i.jsx)(p.X,{color:"white",weight:"bold",overflow:"normal",children:a.a._("Undo","Text on the button to navigate to undo hiding a pin","Text on the button to navigate to undo hiding a pin")})})}),Object(i.jsxs)(p.e,{marginTop:"auto",children:[!T&&!O&&C&&!N&&Object(i.jsx)(p.f,{color:"white",onClick:()=>Object(c.a)(C.action,C.actionOptions,x),text:a.a._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),k&&Object(i.jsx)(s.a,{to:B?"/edit/history":"/edit",onClick:D,children:Object(i.jsx)(p.f,{color:"white",text:B?a.a._("Edit history","obscuredOverlay.buttonText.editHistory","Text on the button to navigate directly to the history section of homefeed control"):a.a._("Tune your feed","Text on the button to navigate to homefeed control","Text on the button to navigate to homefeed control")})})]})]}):Object(i.jsxs)(o.Fragment,{children:[Object(i.jsx)(p.e,{children:k&&Object(i.jsx)(s.a,{className:"underlineLink",to:"/edit",onClick:D,style:b.navigateLinkStyle,children:Object(i.jsx)(p.X,{color:"white",weight:"bold",overflow:"normal",children:a.a._(" Tune your home feed","Text on the link to navigate to homefeed control","Text on the link to navigate to homefeed control")})})}),Object(i.jsxs)(p.e,{marginTop:"auto",children:[!T&&!O&&C&&!N&&Object(i.jsx)(p.f,{color:"white",onClick:()=>Object(c.a)(C.action,C.actionOptions,x),text:a.a._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),T&&Object(i.jsx)(p.f,{color:"white",onClick:T,text:S||a.a._("Undo","Text on the button to undo hiding a pin","Text on the button to undo hiding a pin")})]})]})]})})})]})}},eqXv:function(e,t,n){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var i=n("eOdZ");const o=()=>{};const r={complaint:function(e,t){i.a.create("PinFeedbackResource",e).callUpdate().then(()=>t())},followBoard:function(e,t){i.a.create("BoardFollowResource",e).callCreate().then(()=>t())},followPinner:function(e,t){i.a.create("UserFollowResource",e).callCreate().then(()=>t())},followTopic:function(e,t){i.a.create("InterestFollowResource",e).callCreate().then(()=>t())},newsHubPinHide:function(e,t){i.a.create("NewsHubPinFeedbackResource",e).callUpdate().then(()=>t())},promotedComplaint:function(e,t){i.a.create("PinFeedbackResource",e).callUpdate().then(()=>t())},relatedPinHide:function(e,t){i.a.create("RelatedPinFeedbackResource",e).callUpdate().then(()=>t())},reportPin:function(e,t){t()},unfollowBoard:function(e,t){i.a.create("BoardFollowResource",e).callDelete().then(()=>t())},unfollowPinner:function(e,t){i.a.create("UserFollowResource",e).callDelete().then(()=>t())},unfollowTopic:function(e,t){i.a.create("InterestFollowResource",e).callDelete().then(()=>t())},unrelatedSearchPin:function(e,t){i.a.create("SearchPinFeedbackResource",e).callUpdate().then(()=>t())}},a=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,t,n=o){const i=r[e];return i?i(t,n):n()}},fOIk:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var i=n("nKUr"),o=n("Ye/N"),r=n("n6mq");const a={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},s={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function c({isDisabled:e,isFavorited:t,size:n,onTap:c}){return Object(i.jsx)(r.W,{disabled:e,onTap:c,children:Object(i.jsx)(r.v,{accessibilityLabel:o.a._("Favorite icon","pinRep.footer.favoriteIcon","Accessible label for favorite icon on Pin"),color:"darkGray",dangerouslySetSvgPath:t?s:a,size:n})})}},fc1g:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));const i=e=>({type:"MOST_RECENT_PIN",payload:{id:e}}),o=e=>({type:"MOST_RECENT_PIN_IMAGE",payload:{image_signature:e}})},g5OB:function(e,t,n){n.d(t,"a",(function(){return Ct}));var i=n("nKUr"),o=n("q1tI"),r=n("jkxn"),a=n("rYoy"),s=n("gD/Z"),c=n("sztL"),l=n("zwad");function d(e,t){const{carousel_data:n,domain:i}=e;let o=i||"";return n&&n.id&&(o=function(e,t){const n=t||e&&e.index||0,i=e&&e.carousel_slots||[],o=i[n]&&i[n].link||"";return o&&l.a.parse(o).hostname||""}(n,t)),o.replace("www.","")}var u=n("Ye/N"),p=n("qD10"),b=n("kVqD"),h=n("0nTG"),j=n("Y8Sn"),m=n("n6mq");const f={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function g({pin:e,sourceLinkStyle:t,surface:n,url:r}){const[a,l]=Object(o.useState)(!1),{id:g}=e,O=d(e),_=Object(h.f)(e)||{},{slotIndex:x}=Object(s.b)(),y=Object(b.a)(12,{grid_index:x,objectId:g,...Object(h.f)(e)||{}}),w=Object(b.a)(101,{element:162,objectId:g,...Object(h.f)(e)||{}}),v=Object(b.a)(8948,{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:x,objectId:g,...Object(h.f)(e)||{}}),T=()=>{y(),w(),Object(j.e)()&&v()};return"icon-only"===t?Object(i.jsx)(p.a,{auxData:_,external:!0,onClick:T,pinId:g,surface:n,to:r,children:Object(i.jsx)(m.w,{accessibilityLabel:u.a._("link","Website url link","Website url link"),bgColor:"white",icon:"arrow-up-right",iconColor:"darkGray",size:"sm"})}):Object(i.jsx)(m.e,{dangerouslySetInlineStyle:{__style:{...f.container,...a?f.containerHovered:{},..."truncated-text"===t?f.containerTruncated:{}}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),position:"relative",children:Object(i.jsx)(c.a,{hovered:a,pin:e,slotIndex:x,viewType:1,children:Object(i.jsx)(p.a,{className:"GestaltTouchableFocus",external:!0,onClick:T,pinId:g,surface:n,style:{borderRadius:18,display:"block"},to:r,children:Object(i.jsxs)(m.e,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:f.text},display:"flex",justifyContent:"between",children:[Object(i.jsx)(m.e,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:Object(i.jsx)(m.v,{accessibilityLabel:u.a._("link","Website url link","Website url link"),color:"darkGray",icon:"arrow-up-right",size:9})}),Object(i.jsx)(m.e,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:Object(i.jsx)(m.X,{color:"darkGray",size:"md",weight:"bold",truncate:!0,children:O})})]})})})})}const O=Object(o.lazy)(()=>Promise.all([n.e(93),n.e(104),n.e("PinRepEditButtonCommon")]).then(n.bind(null,"jHGc"))),_=Object(o.lazy)(()=>Promise.resolve().then(n.bind(null,"Te6n"))),x=Object(o.lazy)(()=>n.e("PinRepSendShareLinkButtonCommon").then(n.bind(null,"GUPW")));var y=Object(o.memo)((function({actionBarEditBeforeShare:e,feedbackData:t,feedbackType:n,layout:c,onToggleFlyout:l,onToggleModal:d,pin:u,pinTitle:p,setForcePrimary:b,shouldUseLegoStyles:h,showEditButton:j,showOverflowMenu:f,showShareButton:y,sourceLinkStyle:w,surface:v}){var T;const S=Object(m.gb)(),{viewParameter:I,viewType:P}=Object(s.b)(),{carousel_data:E,id:R,savedInfo:C,tracked_link:k,link:N}=u,D=null!==(T=null!=k?k:N)&&void 0!==T?T:"",B=!!D,[L,A]=Object(o.useState)(j),[M,U]=Object(o.useState)(j),G={marginRight:j&&f?-44:0,transition:"margin-right .2s ease-in-out"},F={opacity:M?1:0,transition:"opacity .2s ease-in-out"};Object(o.useEffect)(()=>{let e;return j&&f?e=setTimeout(()=>{requestAnimationFrame(()=>{A(!0),requestAnimationFrame(()=>{U(!0)})})},800):(A(j),requestAnimationFrame(()=>{U(j)})),()=>{clearTimeout(e)}},[j,f]);const H=B&&Object(r.a)(Object(i.jsx)(g,{pin:u,sourceLinkStyle:w,surface:v,url:D})),V=y&&Object(i.jsx)(a.a,{children:Object(i.jsx)(m.e,{"data-test-id":"send-share-link",children:Object(r.a)(Object(i.jsx)(x,{pin:u,setForcePrimary:b}))})}),z=Boolean(null==C?void 0:C.localPinId)&&h?null==C?void 0:C.localPinId:R,q=L&&Object(i.jsx)(a.a,{children:Object(i.jsx)(m.e,{"data-test-id":"edit-button",dangerouslySetInlineStyle:h&&!S?{__style:F}:void 0,children:Object(r.a)(Object(i.jsx)(O,{carouselSlotCurrentIndex:E&&E.index,component:0,onToggleModal:l,pinId:z,style:{size:"sm"},view:P,viewParameter:I,useLegoStyles:!0}))})});return"equally-spaced"===c?Object(i.jsxs)(m.e,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[Object(i.jsx)("div",{style:{flexBasis:32},children:H}),e?q:V,e?V:q]}):Object(i.jsxs)(m.e,{alignItems:"center",display:"flex",padding:3,children:[Object(i.jsx)(m.e,{flex:"shrink",children:H}),Object(i.jsx)(m.e,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",dangerouslySetInlineStyle:h&&!S?{__style:G}:void 0,children:Object(i.jsxs)(m.r,{alignItems:"center",gap:2,justifyContent:"end",children:[e?q:V,h&&(e?V:q),f&&Object(i.jsx)(a.a,{children:Object(i.jsx)(m.e,{"data-test-id":"overflow-menu-button",children:Object(r.a)(Object(i.jsx)(_,{feedbackData:t,feedbackType:n,pin:u,pinTitle:p,setForcePrimary:b}))})}),!h&&(e?V:q)]})})]})})),w=n("/MKj"),v=n("XSD5"),T=n("ZbwW"),S=n("U4JR");function I({direction:e,swipeHandler:t}){const n={left:u.a._("View Previous","Button to advance carousel to the previous image","Button to advance carousel to the previous image"),right:u.a._("View Next","Button to advance carousel to the next image","Button to advance carousel to the next image")};return Object(i.jsx)(m.e,{position:"absolute",bottom:!0,top:!0,left:"left"===e,right:"right"===e,children:Object(i.jsx)(m.W,{fullHeight:!0,fullWidth:!0,onTap:t,children:Object(i.jsx)(m.e,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":"carousel-slider-"+e,children:Object(i.jsx)(m.v,{accessibilityLabel:n[e],color:"white",icon:{left:"arrow-back",right:"arrow-forward"}[e]})})})})}var P=Object(w.connect)(null,(function(e){return{changeCarouselSlotIndex:(t,n)=>e(Object(v.a)(t,n))}}))(({pin:e,changeCarouselSlotIndex:t})=>{const{componentType:n,viewParameter:o,viewType:a}=Object(s.b)(),c=Object(T.a)(e);if(!c)return null;const{id:l=""}=e,{carousel_slots:d,index:u,id:p}=c;function b(i){return()=>{const r="left"===i?u-1:u+1;t(l,r),((t,i)=>{Object(S.b)(108,{objectId:l,component:n,view:a,viewParameter:o,eventData:{pinCarouselSlotEventData:{carouselSlotId:d[t]&&Number(d[t].id),carouselDataId:Number(p),carouselSlotIndex:t,toCarouselSlotIndex:i}},...Object(h.f)(e)||{}})})(u,r)}}return Object(i.jsxs)(m.e,{height:"100%",position:"relative",width:"100%",children:[u>0&&Object(r.a)(Object(i.jsx)(I,{direction:"left",swipeHandler:b("left")})),u<d.length-1&&Object(r.a)(Object(i.jsx)(I,{direction:"right",swipeHandler:b("right")}))]})}),E=n("h9/w"),R=n("clxp"),C=n("FDmi");function k({avatarUrl:e,attributionNameLink:t,name:n="",onClick:o,accessibilityLabel:r}){const a=Object(i.jsx)(m.e,{height:"32px",width:"32px",children:Object(i.jsx)(C.a,{name:n,src:e,accessibilityLabel:r})});return t?Object(i.jsx)(p.a,{className:"underlineLink",to:t,onClick:o,children:a}):a}function N({attributionNameLink:e,name:t,onClick:n,regularWeight:o}){const r=Object(i.jsx)(m.X,{size:"md",truncate:!0,weight:o?"normal":"bold",children:t});return Object(i.jsx)(m.e,{children:e?Object(i.jsx)(p.a,{className:"underlineLink",onClick:n,to:e,children:r}):r})}function D({link:e,onClick:t,title:n,weight:o}){if(!n)return null;const r=Object(i.jsx)(m.X,{size:"md",truncate:!0,weight:o,children:n});return e?Object(i.jsx)(p.a,{className:"underlineLink",onClick:t,to:e,children:r}):r}var B=n("b9Z9"),L=n("ynlw"),A=n("Zxas"),M=n("vvax"),U=n("fc1g");var G=Object(w.connect)(null,(function(e){return{setMostRecentPin:t=>{e(Object(U.a)(t))}}}))((function({attributionNameLink:e,attributionTitle:t,avatarUrl:n,isDarkPromoter:o,pin:r,name:a,setMostRecentPin:c,sponsorUrl:l,url:d}){const{viewParameter:h,viewType:j}=Object(s.b)(),{id:f,pinner:g,sponsorship:O,story_pin_data_id:_}=r,{isPromoted:x}=Object(L.a)(r),y=g||r.promoter,{creator:{id:w}={},sponsor:{id:v}={}}=O||{},T=!!_,S=Object(b.a)(101,{view:3,element:x?283:27,objectId:f,component:T?230:void 0,...w?{creator_id:w,pin_id:f}:{}}),I=Object(b.a)(101,{view:3,element:27,pin_id:f,objectId:f,component:T?230:void 0,...w&&v?{creator_id:w,sponsor_id:v}:{}}),P=d&&!e,E=Object(i.jsxs)(m.e,{alignItems:"center",display:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[Object(i.jsx)(m.e,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},children:Object(i.jsx)(B.a,{avatarSize:32,isDarkPromoter:o,pinId:f,user:y,username:y&&y.username,viewParameter:h,viewType:j,children:Object(i.jsx)(k,{attributionNameLink:e,avatarUrl:n,name:a,onClick:S,accessibilityLabel:""})})}),Object(i.jsxs)(m.e,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden",children:[Object(i.jsx)(m.e,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:Object(i.jsx)(N,{attributionNameLink:e,name:a,onClick:S,regularWeight:!t})}),l?Object(i.jsx)(m.X,{size:"md",weight:"bold",children:Object(M.b)(u.a._("Paid partnership with {{ name }}","pinrep.attribution.sponsoredPinTitle","Subtext of pinrep attribution when sponsored by a brand"),{name:Object(i.jsx)(D,{link:l,onClick:I,title:Object(A.a)(t,20),weight:"bold"})})}):Object(i.jsx)(D,{title:t})]})]});return P?Object(i.jsx)(p.a,{className:"underlineLink",onClick:()=>{c(f),S()},to:d,children:E}):E})),F=n("rSLd"),H=n("8A+h"),V=n("YGxj"),z=n("UAdG"),q=n("MhBu"),W=n("v/Q4"),Y=n("tuD4"),X=n("HJ6M"),K=n("KFEb"),J=n("zq6P");function $({board:e,favoriteCount:t,favorited:n,pinId:r}){const a=Object(w.useDispatch)(),{slotIndex:c}=Object(s.b)(),{currentFilter:l,eligibleFilters:d,refreshData:u=(()=>{}),sectionId:p,setShowExperienceTooltip:b}=Object(J.b)(),h=Object(o.useRef)(null),j=Object(W.a)(),f=Object(H.a)(j,e),g=l===X.b&&(!t||1===t),O=Object(Y.a)(d,X.b),_=e=>{Object(S.b)(101,{component:0,element:e?12225:12226,objectId:r,view:5,viewParameter:f?3069:3070})};return Object(i.jsxs)(o.Fragment,{children:[Object(i.jsx)(m.e,{ref:h,children:Object(i.jsx)(z.a,{favorited:n,favoriteCount:t,onFavorite:()=>{_(!0),O&&u(),b&&b(!0)},onUnfavorite:()=>{_(!1),e&&g&&a(Object(q.a)({feedId:p||e.id,feedType:p?K.a.SECTION_PINS:K.a.BOARD_PINS,itemIds:[r],itemType:"pin"}))},pinId:r,size:20})}),h&&!n&&!p&&0===c&&Object(i.jsx)(m.z,{children:Object(i.jsx)(V.a,{anchor:h.current,experienceIds:[502973],flyoutSize:312,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}var Z=n("oRao"),Q=n("T5j3"),ee=n("obIb"),te=n.n(ee),ne=n("X/CP"),ie=n.n(ne),oe=n("x/xQ"),re=n.n(oe),ae=n("jOPH"),se=n.n(ae),ce=n("U5D8"),le=n.n(ce);const de={goodIdea:te.a,love:re.a,thanks:se.a,wow:le.a,haha:ie.a},ue={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"};var pe=function({pinId:e,reactionCounts:t}){const n=t?Object(Q.a)(t):null,o=t?Object(Q.b)(t):0,r=!!n&&n.length>0&&n.map((e,t)=>{const n=de[ue[e]];return Object(i.jsx)(m.e,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:Object(i.jsx)(m.e,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${n})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},t)});return!!r&&Object(i.jsx)(p.a,{to:`/pin/${e}/`,children:Object(i.jsxs)(m.e,{display:"flex",direction:"row",alignItems:"center",height:19,paddingY:3,children:[Object(i.jsx)(m.e,{display:"flex",direction:"row",children:r}),Object(i.jsx)(m.e,{paddingX:1,children:Object(i.jsx)(m.X,{size:"md",children:Object(i.jsx)(Z.a,{value:o,shortform:!0,shortformMaximumFractionDigits:1})})})]})})},be=n("4Utz"),he=n("Rfw2");function je({feedbackType:e,pin:t}){const{pinner:n,source_interest:o}=t,{full_name:r,username:a}=n||{},{name:s}=o||{},c="topic"===e,l=!c&&"followed"===e,d=`/${a}/`,b=Object(he.e)(s),h=`/search/pins/?q=${encodeURIComponent(b)}&rs=image_only_attribution`,j=c?h:d,f={topic:u.a._("From {topic}","attribution on pin rep","attribution on pin rep"),followed:u.a._("From {pinnerName}","attribution on pin rep","attribution on pin rep"),pfyBoard:u.a._("Picked for you","attribution on pin rep","attribution on pin rep"),pfy:u.a._("Picked for you","attribution on pin rep","attribution on pin rep")}[e];if(!f)return null;if(l||c){const e=0===f.indexOf("{"),t=c?s:r,n=e?f.slice(f.indexOf("}")+1):f.slice(0,f.indexOf("{"));return e?Object(i.jsxs)(m.e,{children:[Object(i.jsx)(p.a,{to:j,children:Object(i.jsx)(m.X,{weight:"bold",inline:!0,size:"md",truncate:!0,children:t})}),Object(i.jsx)(m.X,{inline:!0,size:"md",children:n})]}):Object(i.jsxs)(m.e,{children:[Object(i.jsx)(m.X,{inline:!0,size:"md",children:n}),Object(i.jsx)(p.a,{to:j,children:Object(i.jsx)(m.X,{color:"darkGray",weight:"bold",inline:!0,size:"md",truncate:!0,children:t})})]})}return Object(i.jsx)(m.e,{children:Object(i.jsx)(be.a,{pin:t,children:Object(i.jsx)(m.X,{color:"darkGray",overflow:"normal",size:"md",weight:"bold",children:f})})})}var me=n("Te6n"),fe=n("h4v/");function ge(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";const{downloadedAssets:t,totalAssets:n}=window.prefetchCompletion[e];return n?(t/n*100).toFixed(3).toString():"-1"}var Oe=n("4cpq");function _e({children:e,componentType:t,contextLogData:n,elementType:o,pin:r,surface:a,viewParameter:c,viewType:l}){const d=Object(s.b)(),{carousel_data:u,id:b,link:h,tracked_link:f}=r;let g,O=f||h,_="one-tap-desktop";if(u){const{carousel_slots:e=[],id:t,index:n}=u;e[n]&&e[n].link&&(O=e[n].link),g={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n},_+="-carousel"}return Object(i.jsx)(m.e,{"data-test-id":"otpp",children:Object(i.jsx)(Oe.a,{id:_,children:Object(i.jsx)(p.a,{auxData:g,external:!0,onClick:()=>{const e=fe.a.getInstance(),i=e.getViewFromContext();Object(S.b)(12,{...n,view:l||d.viewType,viewParameter:c||d.viewParameter,component:t||d.componentType,objectId:b,grid_index:d.slotIndex,pin_id:b,prefetch_percentage_complete:ge(h||"")}),Object(j.e)()&&Object(S.b)(8948,{click_type:"clickthrough",closeup_navigation_type:"click",view:l||d.viewType,viewParameter:c||d.viewParameter,...n,component:t||d.componentType,objectId:b,grid_index:d.slotIndex,pin_id:b,prefetch_percentage_complete:ge(h||"")}),Object(S.b)(13,{closeup_navigation_type:"web_closeup",objectId:b,component:t||d.componentType,view:3,...d.contextLogData,...n}),e.addViewToContext(i)},pinId:b,style:{cursor:"pointer",display:"block"},surface:a,to:O||"",children:e})})})}var xe=n("gC5q"),ye=n("QAzJ");function we(e){const{pin:t,surface:n}=e,{isOneTap:o,isVideo:r,isPromoted:a}=Object(L.a)(t),{anyEnabled:s,customActivate:c}=Object(ye.c)("web_no_tap_tap");!o&&r&&a&&c();const l=o||r&&a&&s?_e:be.a;return Object(i.jsx)(l,{surface:o?n:void 0,...Object(xe.b)(e,["surface"])})}function ve({pin:e,pinNoteText:t,singleLineMaxLength:n}){const o=Object(A.a)(t,n);return Object(i.jsx)(we,{pin:e,children:Object(i.jsx)(m.X,{overflow:"normal",size:"md",children:o})})}var Te=n("EPem"),Se=n("US8k");function Ie({value:e,valueFormat:t}){return e||0===e?"TIME"===t?Object(Se.a)(e):Object(i.jsx)(Z.a,{shortform:!0,shortformMaximumFractionDigits:1,value:e}):Object(i.jsx)(m.bb,{idealDirection:"up",text:u.a._("This stat is not available yet","closeup.partnerAnalytics.unavailableStat","when data for this field has not populated yet"),children:"—"})}function Pe({pin:e}){const{isStoryPin:t,isVideo:n}=Object(L.a)(e),o=function(e){const{aggregated_pin_data:t,creator_analytics:n}=e,{creator_analytics:i}=t||{},{isStoryPin:o}=Object(L.a)(e);return!n||!o&&i?i:n}(e),r=Object(Te.a)(n,t),a=n||t?null==o?void 0:o.all_time_realtime:null==o?void 0:o["30d_realtime"];return Object(i.jsx)(m.e,{display:"flex",children:r.map(({align:e,displayText:t,field:n,iconType:o,iconSize:r=12,valueFormat:s})=>Object(i.jsxs)(m.e,{alignItems:"center",column:4,display:"flex",justifyContent:e,children:[Object(i.jsx)(m.e,{display:"inlineBlock",marginEnd:1,children:Object(i.jsx)(m.v,{accessibilityLabel:t,color:"darkGray",icon:o,size:r})}),Object(i.jsx)(m.X,{inline:!0,size:"md",children:Object(i.jsx)(Ie,{value:null==a?void 0:a[n],valueFormat:s})})]},n))})}function Ee({currentPrice:e,originalPrice:t,pin:n,surface:o}){const r=t&&t!==e;return Object(i.jsx)(we,{pin:n,surface:o,children:Object(i.jsxs)(m.e,{display:"flex",direction:"row",children:[e&&Object(i.jsx)(m.X,{color:r?"blue":"darkGray",size:"md",weight:"bold",children:e}),r&&Object(i.jsx)(m.e,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:Object(i.jsx)(m.X,{color:"gray",size:"md",weight:"bold",children:t})})]})})}var Re=n("3vxq"),Ce=n("N89m");function ke({pin:e,singleLineMaxLength:t,surface:n}){const o=Object(Ce.a)(e),r=Object(A.a)(o,t);return Object(i.jsx)(we,{pin:e,surface:n,children:Object(i.jsx)(m.e,{display:"flex",direction:"row",children:Object(i.jsx)(m.X,{color:"darkGray",overflow:"normal",size:"md",weight:"normal",children:r})})})}function Ne({numberOfLines:e=2,pin:t,pinTitle:n,singleLineMaxLength:o,surface:r}){const a=e*o,s=Object(A.a)(n,a);return Object(i.jsx)(we,{pin:t,surface:r,children:Object(i.jsx)(m.X,{color:"darkGray",overflow:"normal",size:"md",weight:"bold",children:s})})}var De=n("+tKw");function Be({pin:e,showGroupBoardAvatar:t,singleLineMaxLength:n,userNote:o}){const{pinner:r}=e;if(!r)return null;const{full_name:a,image_small_url:s}=r,c=1.8*n,l=Object(A.a)(o,c);return Object(i.jsx)(we,{pin:e,children:Object(i.jsxs)(m.e,{alignItems:"center",display:"flex",children:[!t&&Object(i.jsx)(m.e,{flex:"none",marginEnd:2,children:Object(i.jsx)(C.a,{name:a,size:"xs",src:s})}),Object(i.jsx)(m.e,{"data-test-id":"PinRep-UserNote",children:Object(i.jsx)(m.X,{overflow:"normal",size:"md",children:Object(i.jsx)(De.a,{text:l,options:{hashtags:{source:"hashtag_closeup"}}})})})]})})}var Le=n("XLg/");const Ae=Object(o.lazy)(()=>n.e("BoardActivityPinRepReactionsCommon").then(n.bind(null,"TbX8"))),Me={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${Le.a}ms ease`},visible:{opacity:1}}};var Ue=Object(o.memo)((function({attributionType:e,blockClickEvents:t,contentType:n,feedbackData:s,feedbackType:c,hoverTransitionState:l,isDarkPromoter:d,pin:p,board:b,pinNoteText:h,pinTitle:j,productOriginalPrice:f,productCurrentPrice:g,productRating:O,setForcePrimary:_,showBoardActivityReply:x,showCarouselEllipsis:y,showFavoriteButton:w,showGroupBoardAvatar:v,showOverflowMenu:T,showNativeReactions:S,showPinStats:I,showSource:P,showTextContent:E,singleLineMaxLength:R,surface:C,titleLines:N,userNote:D}){var B;const{board_activity:A,id:M,sponsorship:U}=p,H=j||P,V=H||D,{anyEnabled:z}=Object(ye.a)("mweb_web_sponsored_pins",!!U),{anyEnabled:q}=Object(ye.d)("web_pin_notes"),{anyEnabled:W}=Object(ye.d)("web_board_favorites",w),{anyEnabled:Y}=Object(ye.d)("web_deprecate_group_board_comments"),X=Object(ye.b)("web_shopping_grid_metadata_ratings_shipping"),K=function(e,t,n={isEnabledSponsoredPinExperiment:!1}){const{board:i,link_domain:o={},promoter:r,sponsorship:a,native_creator:s}=e,{isEnabledSponsoredPinExperiment:c}=n,{isPromoted:l}=Object(L.a)(e),{official_user:d}=o||{},p=e.pinner||{};let b="",h="",j="",m="",f="",g="";if(l&&r)b=r.image_medium_url||r.image_small_url,j=r.full_name,m=u.a._("Promoted by","indicating the username of the person who promoted the pin","indicating the username of the person who promoted the pin"),g=`/${r.username}/`;else if(c&&a){const{creator:e,sponsor:t}=a;b=e.image_medium_url||e.image_small_url,h=`/${e.username}/`,j=t.full_name,m=e.full_name,g=`/${e.username}/`,f=`/${t.username}/`}else s?(b=s.image_medium_url||s.image_small_url,m=s.full_name,g=`/${s.username}/`):"show-for-claimed-content"===t?null!=d&&d.is_primary_website_verified&&(b=d.image_medium_url||d.image_small_url,m=d.full_name,g=`/${d.username}/`):(b=p.image_medium_url||p.image_small_url,h=`/${p.username}/`,m=p.full_name,g=i?i.url:"");return{avatarUrl:b,attributionNameLink:h,attributionTitle:j,name:m,sponsorUrl:f,url:g}}(p,e,{isEnabledSponsoredPinExperiment:z}),{avatarUrl:J,attributionNameLink:Z,attributionTitle:Q,name:ee,sponsorUrl:te,url:ne}=K,ie=Object(i.jsxs)(m.e,{dangerouslySetInlineStyle:{__style:Me.container},children:[y&&Object(i.jsx)(m.e,{dangerouslySetInlineStyle:{__style:H||v||"none"!==e?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:Object(i.jsx)(F.default,{pinId:M})}),I&&Object(i.jsx)(m.e,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%",children:Object(i.jsx)(Pe,{pin:p})}),Object(i.jsx)(m.e,{display:"flex",children:Object(i.jsxs)(m.e,{flex:"grow",children:[(E&&V||W)&&Object(i.jsxs)(m.e,{dangerouslySetInlineStyle:{__style:"none"!==e||v?{marginBottom:"6px"}:{}},children:[(f||g)&&Object(i.jsx)(m.e,{marginBottom:1,children:Object(i.jsx)(Ee,{currentPrice:g,originalPrice:f,pin:p,surface:C})}),W?Object(i.jsxs)(m.r,{alignItems:"start",children:[Object(i.jsx)(m.r,{flex:"grow",children:Object(i.jsx)(Ne,{numberOfLines:N,pin:p,pinTitle:j,singleLineMaxLength:R,surface:C})}),Object(i.jsx)(m.e,{marginStart:3,children:Object(i.jsx)($,{board:b,favorited:!!p.favorited_by_me,favoriteCount:null!=b&&b.should_show_board_activity?null!==(B=p.favorite_user_count)&&void 0!==B?B:0:void 0,pinId:p.id})})]}):Object(i.jsx)(Ne,{numberOfLines:N,pin:p,pinTitle:j,singleLineMaxLength:R,surface:C}),P&&Object(i.jsx)(ke,{pin:p,singleLineMaxLength:R,surface:C}),!q&&D&&Object(i.jsx)(m.e,{marginTop:H?1:0,children:Object(i.jsx)(Be,{pin:p,showGroupBoardAvatar:v,singleLineMaxLength:R,userNote:D})})]}),Object(i.jsxs)(m.e,{alignItems:"center",display:"flex",children:[Object(i.jsx)(m.e,{flex:"grow",children:(()=>{switch(e){case"none":return null;case"image-only-credit":return Object(i.jsx)(m.e,{dangerouslySetInlineStyle:{__style:Me.imageOnlyAttribution["active"===l?"visible":"hidden"]},children:Object(i.jsx)(je,{pin:p,feedbackType:c})});default:return Object.values(K).some(e=>Boolean(e))?Object(i.jsx)(G,{attributionNameLink:Z,attributionTitle:Q,avatarUrl:J,isDarkPromoter:d,name:ee,pin:p,sponsorUrl:te,url:ne}):null}})()}),T&&Object(i.jsx)(m.e,{flex:"none",children:Object(i.jsx)(me.default,{feedbackData:s,feedbackType:c,pin:p,pinTitle:j,setForcePrimary:_,transparentBackground:!0})})]}),S&&!!p.reaction_counts&&Object(i.jsx)(m.e,{children:Object(i.jsx)(pe,{pinId:p.id,reactionCounts:p.reaction_counts})}),q&&h&&Object(i.jsx)(m.e,{marginBottom:1,children:Object(i.jsx)(ve,{pin:p,pinNoteText:h,singleLineMaxLength:R})}),v&&!(W&&Y)&&Object(i.jsxs)(m.e,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:[!W&&Object(i.jsxs)(o.Fragment,{children:[Object(i.jsx)(k,{attributionNameLink:Z,avatarUrl:J,name:ee}),Object(i.jsx)(m.e,{marginStart:2,flex:"grow",children:Object(i.jsx)(m.X,{size:"md",children:ee})})]}),Object(i.jsx)(m.e,{children:Object(i.jsx)(a.a,{children:Object(i.jsx)(Ae,{pinId:p.id,board:b,activityId:A&&A.id||p.id,hideComments:Y,hideReactions:W,showReply:x})})})]})]})})]}),oe=Object(i.jsx)(m.e,{dangerouslySetInlineStyle:{__style:Me.productContainer},children:Object(i.jsx)(m.e,{display:"flex",children:Object(i.jsx)(m.e,{flex:"grow",children:V&&Object(i.jsxs)(o.Fragment,{children:[(f||g)&&Object(i.jsx)(m.e,{marginBottom:1,children:Object(i.jsx)(Ee,{currentPrice:g,originalPrice:f,pin:p,surface:C})}),Object(i.jsx)(m.e,{marginBottom:1,children:Object(i.jsx)(Ne,{numberOfLines:N,pin:p,pinTitle:j,singleLineMaxLength:R,surface:C})}),P&&Object(i.jsx)(ke,{pin:p,singleLineMaxLength:R,surface:C}),"shopping"===n&&X().anyEnabled&&O&&Object(i.jsx)(Re.a,{count:O.count,countFormat:"number",ratingValue:O.rating})]})})})}),re="shopping"===n?oe:ie;return t?Object(i.jsx)("div",{style:{pointerEvents:"none"},children:re}):Object(r.a)(re)})),Ge=n("4+TC"),Fe=n("d90F");const He=Object(o.lazy)(()=>Promise.all([n.e(93),n.e(104),n.e("PinRepEditButtonCommon")]).then(n.bind(null,"jHGc"))),Ve=Object(o.lazy)(()=>Promise.all([n.e(93),n.e(104),n.e("PinPersistentOneClickSaveCommon")]).then(n.bind(null,"f6y4"))),ze=Object(o.lazy)(()=>Promise.all([n.e(93),n.e(104),n.e(220),n.e("PinSaveButtonCommon")]).then(n.bind(null,"rO08"))),qe=Object(o.lazy)(()=>Promise.all([n.e(93),n.e(104),n.e(220),n.e(293),n.e("PinBetterSaveCommon")]).then(n.bind(null,"fEA9"))),We=Object(o.lazy)(()=>n.e("QuickSaveButtonCommon").then(n.bind(null,"iTUf"))),Ye=Object(o.lazy)(()=>n.e("BoardActivityPinRepLikeButtonCommon").then(n.bind(null,"nGh2"))),Xe=Object(o.lazy)(()=>n.e("PinPromoteButtonCommon").then(n.bind(null,"ATEG")));function Ke({board:e,derivedSaveButtonOptions:t,forcePrimaryContent:n,onToggleFlyout:c,onToggleModal:l,pin:d,showEditButton:u,showLikeButton:p,supportsReactionBar:h,shouldUseLegoStyles:j}){const[f,g]=Object(o.useState)(!1),{carousel_data:O,id:_,savedInfo:x}=d,y=Object(o.useRef)(!!x),v=Object(w.useSelector)(({experiences:e})=>{const t=e.eligibleExperiences[1000294];return 502450===(null==t?void 0:t.experience_id)?t:null}),{anyEnabled:T}=Object(ye.d)("web_board_favorites"),{viewParameter:S,viewType:I}=Object(s.b)(),P=Object(b.a)(101,{element:0,objectId:_});let E=null;const C={onToggleModal:c,view:I,viewParameter:S,useLegoStyles:!0};if(!f)if(!t.hidePinBetterSaveDropdown&&v&&["classic","controlled","inline"].includes(t.type)){const{renderPinSaveTooltip:e}=t;E=Object(i.jsx)(a.a,{children:Object(r.a)(Object(i.jsx)(We,{experience:v,forcePrimaryContent:n,pin:d,renderPinSaveTooltip:e,viewParameter:S}))})}else if("classic"===t.type||"controlled"===t.type){const{renderPinSaveTooltip:e}=t;E=Object(i.jsx)(a.a,{children:Object(i.jsx)(m.e,{"data-test-id":"pin-save-button",maxWidth:"100%",children:Object(r.a)(Object(i.jsx)(ze,{onClickCallback:P,onToggleModal:l,oneTapSave:"controlled"===t.type?t:void 0,pin:d,renderPinSaveTooltip:e,renderSavedStatus:()=>!!x&&Object(r.a)(Object(i.jsx)(Ge.a,{isNewlySaved:!y.current,name:x.title,url:x.url})),variant:"lego",viewParameter:S}))})})}else if("inline"===t.type){const e=d,{initialSelection:n,onSave:o,renderPinSaveTooltip:s,hidePinBetterSaveDropdown:u}=t;E=Object(i.jsx)(a.a,{children:Object(i.jsx)(m.e,{"data-test-id":"better-save",children:Object(r.a)(Object(i.jsx)(qe,{initialSelection:n,onSave:o,onToggleFlyout:c,onToggleModal:l,pin:e,renderPinSaveTooltip:s,shouldUseLegoStyles:j,renderSavedStatus:({savedInfo:e})=>e&&Object(r.a)(Object(i.jsx)(Ge.a,{isNewlySaved:!y.current,name:e.title,url:e.url,shouldUseLegoStyles:j})),useMasonryFlyout:!0,variant:"pin",viewParameter:S,hideDropdown:u}))})})}else"persistentOneClickSave"===t.type?E=Object(i.jsx)(a.a,{children:Object(i.jsx)(m.e,{"data-test-id":"persistent-one-click-save",children:Object(r.a)(Object(i.jsx)(Ve,{...C,saveOptions:t,shouldUseLegoStyles:j,pin:d}))})}):"promote"===t.type&&(E=Object(i.jsx)(m.e,{display:"flex",justifyContent:"end",children:Object(i.jsx)(a.a,{children:Object(i.jsx)(m.e,{"data-test-id":"pin-promote-button",children:Object(r.a)(Object(i.jsx)(Xe,{pin:d}))})})}));let k=null;return u?k=Object(i.jsx)(a.a,{children:Object(r.a)(Object(i.jsx)(m.e,{"data-test-id":"edit-button",display:"inlineBlock",children:Object(i.jsx)(He,{...C,carouselSlotCurrentIndex:O&&O.index,component:0,pinId:_,style:{size:"sm"}})}))}):p&&!T&&(k=Object(i.jsx)(a.a,{children:Object(i.jsx)(m.e,{"data-test-id":"like-button",children:Object(i.jsx)(Fe.a,{name:"group_boards_reactions",activate:!1,children:({anyEnabled:t,customActivate:n})=>Object(r.a)(Object(i.jsx)(Ye,{pin:d,board:e,activateReactionsExperiment:n,inReactionsExperiment:t,onShowReactionsBar:()=>g(!0),onHideReactionsBar:()=>g(!1),supportsReactionBar:h,useLegoStyles:!0}))})})})),Object(i.jsx)(R.a,{name:"PinRepPrimaryContent",children:Object(i.jsxs)(m.e,{display:"flex",margin:3,children:[k&&Object(i.jsx)(m.e,{flex:"grow",marginEnd:"auto",children:k}),E&&Object(i.jsx)(m.e,{marginStart:"auto",flex:"grow",children:E})]})})}var Je=n("7wXf"),$e=n("VJm5"),Ze=n("3qdF"),Qe=n("qhFy"),et=n("HOY+");const tt={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function nt({isSelected:e}){return Object(i.jsx)(m.e,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:e?tt:{},children:Object(i.jsx)(m.e,{position:"absolute",bottom:!0,right:!0,padding:3,children:Object(i.jsx)(m.e,{alignItems:"center",color:e?"darkGray":"white",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:Object(i.jsx)(m.v,{accessibilityLabel:u.a._("Pin is selected to be saved","SectionSuggestionPin.iconOnPin.selectedPin","accessibility label on an icon"),color:"white",icon:"check",size:12})})})})}var it=n("FgHp");function ot({autoplaySettingOff:e,blockClickEvents:t,fallbackColor:n,imageFit:r,isDenseView:a,isHovering:l,isSocialSeasonalBoard:d=!1,onError:u,onLoad:p,pin:b,pinImageCrop:h,resolution:j="default",rootMargin:f,selectionState:g,showCarousel:O,showPromotedVideos:_,surface:x}){const{contextLogData:y,slotIndex:w,viewParameter:v,viewType:T}=Object(s.b)(),{group:S}=Object(ye.a)("web_preload_story_pin_video_in_feed"),{id:I="",aggregated_pin_data:P,image_signature:E,story_pin_data:R}=b,{pin_tags_chips:C}=P||{},{isOneTap:k,isVideo:N,isPromoted:D,isGif:B}=Object(L.a)(b),{cropHeight:A,cropWidth:M}=(e=>"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width})(h);let U=null;if(e||!N||!_&&D)if(O)U=Object(i.jsx)(m.e,{"data-test-id":"pinrep-carousel",children:Object(i.jsx)($e.a,{cropHeight:A,cropWidth:M,onError:u,onLoad:p,highResOnly:"high-res"===j,lowResOnly:"low-res"===j,pinId:I,showCarouselBadge:!1,isDenseView:a,pin:b})});else{const e="backend"===h?function({images:e,image_crop:t}){const n=e&&e["236x"].height;if(t&&(0!==t.min_y||1!==t.max_y)){const{min_y:e,max_y:i}=t;return{marginTop:(e>0?-1*e*n:0)+"px",marginBottom:(i<1?Math.round(-1*(1-i)*n):0)+"px"}}return{}}(b):{};U=Object(i.jsx)(m.e,{dangerouslySetInlineStyle:{__style:e},"data-test-id":"pinrep-image",minHeight:55,children:Object(i.jsx)(Qe.b,{animateGif:B&&d,cropHeight:A,cropWidth:M,fallbackColor:n,imageFit:r,highResOnly:"high-res"===j,lowResOnly:"low-res"===j,mediumResOnly:"medium-res"===j,onLoad:p,onError:u,pin:b})})}else U=Object(i.jsx)(m.e,{"data-test-id":"pinrep-video",height:A||void 0,children:Object(i.jsx)(et.a,{cropHeight:A,rootMargin:f,inAdsDesktopVideoExperiment:N&&_,pin:b,surface:x,onLoad:p,viewType:T,viewParameter:v,highResOnly:"high-res"===j,lowResOnly:"low-res"===j,onError:u,isExperimentalPinRep:!0})});const G=Object(i.jsx)(m.C,{wash:!0,children:Object(i.jsx)(c.a,{hovered:l,pin:b,slotIndex:w,viewType:1,children:U})}),F=["selected-image-only","deselected-image-only"].includes(g),H="selected-image-only"===g,V=Object(o.useRef)(!0);if(Object(o.useEffect)(()=>{V.current||!l||"enabled_hover"!==S||k||t||!R||Object(it.a)(R),V.current=!1},[l]),t)return Object(i.jsxs)(o.Fragment,{children:[G,F&&Object(i.jsx)(nt,{isSelected:H}),C&&Object(i.jsx)(m.e,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:Object(i.jsx)(Ze.a,{pin:b,enableCloseupLink:!0})})]});const{commerce_data:z}=y||{},q=["RelatedProductsExploreTab","RelatedProductsFeed"].includes(x);return Object(i.jsxs)(we,{contextLogData:{grid_index:w,image_signature:E,commerce_data:q?z:void 0},elementType:35,pin:b,surface:x,children:[G,C&&Object(i.jsx)(m.e,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:Object(i.jsx)(Ze.a,{pin:b,enableCloseupLink:!1})})]})}var rt=n("CgR/"),at=n("Sp3T");var st=rt.a.makeSendShareButton(({handleSendShareFlyoutButtonClick:e,viewType:t})=>{const n=Object(at.a)();return Object(i.jsx)(m.f,{onClick:({event:t})=>{t&&t.stopPropagation&&t.stopPropagation(),n(()=>{e()})},text:u.a._("Send","Send a pin","Send a pin"),color:"gray",accessibilityLabel:u.a._("Send","Accessible label to send a pin","Accessible label to send a pin")})}),ct=n("eqXv"),lt=n("EC51");function dt(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function ut(e){return null==e?void 0:e.through_properties}const pt=e=>e.length>22?e.substring(0,22).trim()+"...":e,bt={color:"white",textDecorationColor:"white"};function ht(e,t,n,o){const r={display:"inline",...o?bt:{}};return Object(i.jsx)(lt.a,{href:t,children:Object(i.jsx)(m.e,{dangerouslySetInlineStyle:{__style:r},children:Object(i.jsx)(m.X,{size:"sm",color:"white",weight:"bold",children:n})})},e)}var jt=n("DJoW");const mt=Object(i.jsxs)("svg",{width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",children:[Object(i.jsx)("g",{filter:"url(#filter0_d)",children:Object(i.jsx)("circle",{cx:"28",cy:"28",r:"20",fill:"white"})}),Object(i.jsx)("rect",{x:"18.875",y:"27.875",width:"18.25",height:"1.75",rx:"0.875",fill:"#111111",stroke:"#111111",strokeWidth:"1.75"}),Object(i.jsx)("defs",{children:Object(i.jsxs)("filter",{id:"filter0_d",x:"0",y:"0",width:"56",height:"56",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[Object(i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),Object(i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),Object(i.jsx)("feOffset",{}),Object(i.jsx)("feGaussianBlur",{stdDeviation:"4"}),Object(i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),Object(i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),Object(i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]})})]}),ft=Object(i.jsxs)("svg",{width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",children:[Object(i.jsx)("g",{filter:"url(#filter0_d)",children:Object(i.jsx)("circle",{cx:"28",cy:"28",r:"20",fill:"#E60023"})}),Object(i.jsx)("rect",{x:"18.875",y:"27.875",width:"18.25",height:"1.75",rx:"0.875",fill:"white",stroke:"white",strokeWidth:"1.75"}),Object(i.jsx)("defs",{children:Object(i.jsxs)("filter",{id:"filter0_d",x:"0",y:"0",width:"56",height:"56",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[Object(i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),Object(i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),Object(i.jsx)("feOffset",{}),Object(i.jsx)("feGaussianBlur",{stdDeviation:"4"}),Object(i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),Object(i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),Object(i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]})})]}),gt=Object(i.jsxs)("svg",{width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",children:[Object(i.jsx)("g",{filter:"url(#filter0_d)",children:Object(i.jsx)("circle",{cx:"28",cy:"28",r:"20",fill:"white"})}),Object(i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M36.3333 26.3333H29.6667V19.6667C29.6667 18.7467 28.92 18 28 18C27.08 18 26.3333 18.7467 26.3333 19.6667V26.3333H19.6667C18.7467 26.3333 18 27.08 18 28C18 28.92 18.7467 29.6667 19.6667 29.6667H26.3333V36.3333C26.3333 37.2533 27.08 38 28 38C28.92 38 29.6667 37.2533 29.6667 36.3333V29.6667H36.3333C37.2533 29.6667 38 28.92 38 28C38 27.08 37.2533 26.3333 36.3333 26.3333Z",fill:"#111111"}),Object(i.jsx)("defs",{children:Object(i.jsxs)("filter",{id:"filter0_d",x:"0",y:"0",width:"56",height:"56",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[Object(i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),Object(i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),Object(i.jsx)("feOffset",{}),Object(i.jsx)("feGaussianBlur",{stdDeviation:"4"}),Object(i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),Object(i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),Object(i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]})})]}),Ot=Object(i.jsxs)("svg",{width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",children:[Object(i.jsx)("g",{filter:"url(#filter0_d)",children:Object(i.jsx)("circle",{cx:"28",cy:"28",r:"20",fill:"#E60023"})}),Object(i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M36.3333 26.3333H29.6667V19.6667C29.6667 18.7467 28.92 18 28 18C27.08 18 26.3333 18.7467 26.3333 19.6667V26.3333H19.6667C18.7467 26.3333 18 27.08 18 28C18 28.92 18.7467 29.6667 19.6667 29.6667H26.3333V36.3333C26.3333 37.2533 27.08 38 28 38C28.92 38 29.6667 37.2533 29.6667 36.3333V29.6667H36.3333C37.2533 29.6667 38 28.92 38 28C38 27.08 37.2533 26.3333 36.3333 26.3333Z",fill:"white"}),Object(i.jsx)("defs",{children:Object(i.jsxs)("filter",{id:"filter0_d",x:"0",y:"0",width:"56",height:"56",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[Object(i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),Object(i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),Object(i.jsx)("feOffset",{}),Object(i.jsx)("feGaussianBlur",{stdDeviation:"4"}),Object(i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),Object(i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),Object(i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]})})]});function _t({pin:e}){const t=Object(w.useDispatch)(),{id:n,recommendation_reason:o,is_downstream_promotion:r}=e,{showFeedback:a,showPositiveSignal:s,undoAction:c}=Object(w.useSelector)(e=>e.pins[n])||{},{isPromoted:l}=Object(L.a)(e),d={view:3,viewParameter:92,objectId:n},p={pin_id:n,complaint_reason:0,feedback_type:4,promoted:l&&!r,recommendation_reason_id:4,...o?{through_id:dt(o),through_properties:ut(o)}:{}},b=()=>{const e={...p,undo:!0};Object(ct.a)("complaint",e),t(Object(jt.d)(n))},h=()=>{const n="complaint",i={...p},o={subTitle:u.a._("Got it! We won't show you this Pin in the future.","homefeedTuningMode.hidePinMessage","Message displayed after hiding a pin"),title:""};t(Object(jt.f)(e.id,o,((n,i)=>()=>{const o={...n,undo:!0};Object(ct.a)(i,o),t(Object(jt.b)(e.id)),Object(S.b)(101,{...d,component:13782,element:11181})})(i,n),"")),Object(ct.a)(n,i),Object(S.b)(17,{...d,component:13782})},j=()=>{c&&c()};return Object(i.jsx)(m.e,{marginTop:2,children:Object(i.jsxs)(m.r,{direction:"row",justifyContent:"center",gap:4,children:[Object(i.jsx)(m.W,{onTap:()=>{a?j():(s&&b(),h()),Object(S.b)(101,{...d,element:12181,component:13782})},children:a?ft:mt}),Object(i.jsx)(m.W,{onTap:()=>{s?b():(a&&j(),t(Object(jt.g)(n)),Object(S.b)(13,{...d,component:13283}),Object(S.b)(16,{...d,component:13782})),Object(S.b)(101,{...d,element:12180,component:13782})},children:s?Ot:gt})]})})}var xt=n("Xuu2");const yt={gradient:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0) 100%)"}};function wt({pin:e}){var t;const{board:n,id:o,pinner:r,promoter:a,recommendation_reason:s,source_interest:c}=e,l=Object(w.useSelector)(e=>e.pins[o]),{showFeedback:d,showPositiveSignal:p}=l||{},b=Object(xt.a)({feedbackOptions:void 0,pin:e,viewParameter:92}),{title:h,subtitle:j,imageUrl:f}=function({board:e,feedbackType:t,pinner:n,promoter:i,recommendationReason:o,sourceInterest:r}){var a,s;switch(t){case"pfy":return{title:u.a._("Based on your","homefeedTuningMode.pfyTitle","Pin feedback reason - pin shown based on user`s recent activity"),subtitle:u.a._("recent activity","homefeedTuningMode.pfySubtitle","Pin feedback reason - pin shown based on user`s recent activity"),imageUrl:null};case"pfyBoard":const{name:t,url:c}=(null==o?void 0:o.board)||{},l=ht("navigation",c,t);return{title:u.a._("Based on","homefeedTuningMode.pfyBoardTitle","Pin feedback - pin shown based on user`s board"),subtitle:l,imageUrl:null==e?void 0:e.image_thumbnail_url};case"topic":const{name:d,url_name:p}=r||{},b=ht("topicUrl","/topics/"+p,d);return{title:u.a._("Inspired by","homefeedTuningMode.pfyTopicTitle","Pin feedback - pin inspired by user`s subscribed topics"),subtitle:b,imageUrl:null};case"followed":const h=ht("pinnerUrl","/"+(null!==(a=null==n?void 0:n.username)&&void 0!==a?a:""),pt(null!==(s=null==n?void 0:n.full_name)&&void 0!==s?s:""));return{title:u.a._("Saved by","homefeedTuningMode.pfyFollowingTitle","Pin feedback - pin saved by someone the user is following"),subtitle:h,imageUrl:(null==n?void 0:n.image_medium_url)||(null==n?void 0:n.image_small_url)};case"promoted":const{full_name:j,username:m}=i||{},f=ht("promotedLink",m?"/"+m+"/":"/",pt(j));return{title:u.a._("Ad from","homefeedTuningMode.pfyAdTitle","Pin feedback - shown to user because it is an ad"),subtitle:f,imageUrl:(null==i?void 0:i.image_medium_url)||(null==i?void 0:i.image_small_url)};default:return{title:u.a._("Based on your ","homefeedTuningMode.pfyTitle","Pin feedback reason - pin shown based on user`s recent activity"),subtitle:u.a._("recent activity","homefeedTuningMode.pfySubtitle","Pin feedback reason - pin shown based on user`s recent activity"),imageUrl:null}}}({board:n,feedbackType:b,pinner:r,promoter:a,recommendationReason:s,sourceInterest:c});return Object(i.jsx)(m.e,{position:"absolute",left:!0,right:!0,bottom:!0,children:Object(i.jsxs)(m.e,{display:"flex",direction:"row",padding:3,height:63,dangerouslySetInlineStyle:{__style:yt.gradient},alignItems:"end",children:[p&&Object(i.jsx)(m.X,{size:"sm",color:"white",children:u.a._("Got it! We'll try to show you more ideas like this","homefeedTuningMode.positiveSignalMessage","Response to user clicking postive signal, indicating that they want to see more pins like this")}),d&&Object(i.jsx)(m.X,{size:"sm",color:"white",children:u.a._("Got it! We'll try to show you fewer ideas like this","homefeedTuningMode.negativeSignalMessage","Response to user clicking negative signal, indicating that they want to see less pins like this")}),!d&&!p&&Object(i.jsxs)(m.r,{direction:"row",alignItems:"center",children:[f&&Object(i.jsx)(m.e,{marginEnd:2,children:Object(i.jsx)(C.a,{name:null!==(t=null==r?void 0:r.username)&&void 0!==t?t:"",outline:!0,src:f,size:"xs"})}),Object(i.jsxs)(m.r,{direction:"column",children:[Object(i.jsx)(m.X,{size:"sm",color:"white",children:h}),Object(i.jsx)(m.X,{size:"sm",color:"white",weight:"bold",children:j})]})]})]})})}function vt(e){return e<160?"header-only":"none"}function Tt(e){const[t,n]=Object(o.useState)(e.current?vt(e.current.clientHeight||0):"none");return function(e,t){const n=Object(o.useRef)();Object(o.useEffect)(()=>{const i=e.current;if(!i)return;const o=n.current;o&&o.width===i.offsetWidth&&o.height===i.offsetHeight||(n.current={width:i.offsetWidth||0,height:i.offsetHeight||0},t&&t(n.current))}),n.current}(e,({height:e})=>{const i=vt(e);i!==t&&n(i)}),t}var St=n("W5T3"),It=n("dfU2"),Pt=n("tMjw");function Et(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function Rt(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}const Ct=228;t.b=Object(o.memo)((function({actionBarProps:e,blockClickEvents:t,currentlyPlayingVideo:n,disableHover:r=!1,footerProps:a,forcePrimaryContentVisibility:c,impressionsDebuggerProps:l,onError:d,onLoad:u,obscuredPinOverlayProps:p,pin:b,pinVisualProps:h,presentationProps:j,primaryContentProps:f,selectionState:g,secondaryContentProps:O,showAccessoryContent:_,showActionBar:x,showFooter:w,showImpressionsDebugger:v,showSignalDebugger:T,showObscuredPinOverlay:S,showPrimaryAndSecondaryContent:I,surface:C}){const{savedInfo:k}=b,{viewType:N}=Object(s.b)(),D=Boolean(f.shouldUseLegoStyles),[B,L]=Object(o.useState)(!1),A=Object(Le.b)(B);let{isHovering:M,hoverTransitionState:U,handleMouseOver:G,handleMouseLeave:F}=function(){const[e,t]=Object(o.useState)(!1);return{isHovering:e,hoverTransitionState:Object(Le.b)(e,0,Le.a),handleMouseOver:Object(o.useCallback)(()=>t(!0),[t]),handleMouseLeave:Object(o.useCallback)(()=>t(!1),[t])}}();r&&(M=!1,U="inactive");const H=Object(Le.b)(!!k),V=Et(H),z=Et(U),q=Et(U),W=Et(A),Y=Et(H),X=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(C),K=D&&"visible"===V&&!X?"none":V,J={primaryContentVisibility:Rt(q,W,D&&"visible"===Y?"none":Y),secondaryContentVisibility:($=Rt(q,W,Y),"none"===$?"visible":"visible"===$?"none":"hidden"),actionBarVisibility:Rt(q,W),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"};var $;const Z=e=>L(e),Q=e=>L(e),ee=e=>{L(e),e||F()},te="TuningMode"===C;let ne=null;c&&(J.primaryContentVisibility="visible"),te?ne=Object(i.jsx)(wt,{pin:b}):"none"!==J.primaryContentVisibility&&I&&(ne=Object(i.jsx)(Ke,{pin:b,forcePrimaryContent:Z,onToggleFlyout:Q,onToggleModal:ee,...f}));let ie=null;const oe=Object(o.useRef)(!0),re=oe.current;oe.current=!1;const ae=function(e,t){const{carousel_data:n}=e,{index:i}=n||{},[r,a]=Object(o.useState)(!n||t),s=Object(o.useRef)(i),c=Object(o.useRef)(null);if(n){const e=s.current;s.current=i,(i!==e||t)&&(c.current&&clearTimeout(c.current),a(!0),c.current=setTimeout(()=>{a(!1),c.current=null},4e3))}return Object(o.useEffect)(()=>()=>{c.current&&clearTimeout(c.current)},[]),r}(b,re),se=Et(Object(Le.b)(ae));J.secondaryContentVisibility=function(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}(J.secondaryContentVisibility,se),ie=(O.allowShoppingPriceIndicator||O.shoppingLabelColor||"none"!==J.secondaryContentVisibility)&&I&&!n&&Object(i.jsx)(m.e,{margin:2,children:Object(i.jsx)(Je.a,{pin:b,...O})});let ce=null;_&&(ce=Object(i.jsx)(P,{pin:b}),J.accessoryContentVisibility=Et(U)),h.isSocialSeasonalBoard&&(e.showShareButton=!1);const le=x?Object(i.jsx)(y,{onToggleFlyout:Q,onToggleModal:ee,pin:b,setForcePrimary:L,surface:C,...e}):null;let de=null;te?de=Object(i.jsx)(_t,{pin:b}):w&&(de=Object(i.jsx)(Ue,{blockClickEvents:t,hoverTransitionState:"image-only-credit"===a.attributionType?U:null,pin:b,setForcePrimary:L,surface:C,...a})),h.isSocialSeasonalBoard&&(de=Object(i.jsx)(m.e,{"data-test-id":"social-seasonal-footer",marginTop:2,marginBottom:3,width:"100%",children:Object(i.jsx)(m.e,{margin:"auto",width:Ct,children:Object(i.jsx)(st,{isFlyoutOpen:B,onFlyoutDismiss:()=>Q(!B),onToggleFlyout:()=>Q(!B),pinId:b.id,sendType:"pin",shownWithinMasonry:!0,viewType:N})})}));const ue=v&&Object(i.jsx)(St.b,{...l}),pe=T&&b.debug_info_html&&Object(i.jsx)(m.e,{paddingY:1,children:Object(i.jsx)("pre",{children:b.debug_info_html})}),be=Object(i.jsx)(E.a,{pin:b}),he=Object(o.useRef)();"header-only"===Tt(he)&&(J.actionBarVisibility="none",J.accessoryContentVisibility="none");const je=S?Object(i.jsx)(It.a,{pin:b,...p}):null;return Object(i.jsx)(R.a,{name:"PinRepContainer",children:Object(i.jsx)("div",{onMouseOver:G,onMouseLeave:F,"data-test-id":"pin","data-test-pin-id":b.id,children:Object(i.jsx)(Pt.c,{visualOverlayVisibility:z,savedOverlayVisibility:K,primaryContent:ne,primaryContentVisibility:J.primaryContentVisibility,secondaryContent:ie,secondaryContentVisibility:J.secondaryContentVisibility,accessoryContent:ce,accessoryContentVisibility:J.accessoryContentVisibility,actionBar:le,actionBarVisibility:J.actionBarVisibility,footer:de,selectionState:g,debugContent:ue,signalDebuggerV2Content:be,signalDebuggerV2ContentVisibility:J.signalDebuggerV2ContentVisibility,signalDebuggerContent:pe,obscuredPinOverlay:je,enablePointerEvents:te,...j,children:Object(i.jsx)(m.e,{ref:he,children:Object(i.jsx)(ot,{blockClickEvents:t,isHovering:M,onError:d,onLoad:u,pin:b,surface:C,selectionState:g,...h})})})})})}))},"gD/Z":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n("1dBE");const{Provider:o,Consumer:r,useHook:a}=Object(i.c)("trackingParametersContext")},gSZa:function(e,t,n){n.d(t,"a",(function(){return p}));var i=n("nKUr"),o=n("R6wO"),r=n("Ye/N"),a=n("eqXv"),s=n("vvax"),c=n("0bYG"),l=n("U4JR"),d=n("1Fta"),u=n("n6mq");function p({feedbackData:e,feedbackType:t,pinId:n,onHide:p,recommendationReason:b,viewParameter:h,viewType:j}){const m=Object(d.a)({i18n:r.a,interpolateNamedTemplate:s.b}),f=(i,o)=>{const r=b&&b.reason&&c.ReasonToChoose[b.reason],s=b&&Object(d.d)(b),u=b&&Object(d.e)(b),{action:f,actionOptions:g}=m.getHidePinAction({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:r,throughId:s,throughProperties:u,complaintReason:i});(e=>{Object(l.b)(101,{view:j,viewParameter:h,element:e,component:Object(d.c)(t)})})(o),Object(a.a)(f,g),p()},g="promoted"===t?[{text:r.a._("Not relevant to me","homefeed.hideReasons.reason.notRelevant","Feedback option for Pin that is not relevant"),reason:10,elementType:1296},{text:r.a._("Seen Pin too many times","homefeed.hideReasons.reason.seenTooMany","Feedback option for Pin that has been seen too many times"),reason:3,elementType:11172},{text:r.a._("Blurry or pixelated image","homefeed.hideReasons.reason.lowQualityPicture","Feedback option for Pin with low quality picture"),reason:13,elementType:10898}]:[{text:r.a._("Not relevant to me","homefeed.hideReasons.reason.notRelevant","Feedback option for Pin that is not relevant"),reason:10,elementType:1296},{text:r.a._("Not in a language I understand","homefeed.hideReasons.reason.languageDontUnderstand","Feedback option for Pin that is in a language I dont understand"),reason:15,elementType:11178},{text:r.a._("Seen Pin too many times","homefeed.hideReasons.reason.seenTooMany","Feedback option for Pin that has been seen too many times"),reason:3,elementType:295},{text:r.a._("Blurry or pixelated image","homefeed.hideReasons.reason.lowQualityPicture","Feedback option for Pin with low quality picture"),reason:13,elementType:10898},{text:r.a._("Other","homefeed.hideReasons.reason.other","Feedback option for Pin hidden for other reasons"),reason:8,elementType:11179}];return Object(i.jsxs)(u.e,{overflow:"hidden",rounding:2,width:"100%",children:[Object(i.jsx)(u.e,{paddingX:4,paddingY:4,children:Object(i.jsx)(u.X,{color:"darkGray",size:"md",children:r.a._("Got a moment? Tell us why.","homefeed.hideReasons.title","Title of follow up question after negative Pin feedback")})}),Object(i.jsx)(u.o,{}),Object(i.jsx)(u.e,{paddingY:2,children:g.map(({text:e,reason:t,elementType:n})=>Object(i.jsx)(u.W,{fullWidth:!1,onTap:()=>f(t,n),children:Object(i.jsx)(o.a,{compact:!0,text:e})},e))})]})}},"h9/w":function(e,t,n){n.d(t,"a",(function(){return f}));var i=n("nKUr"),o=n("q1tI"),r=n("Ye/N"),a=n("M1Uz"),s=n("n6mq");function c(e){const{onHide:t}=e,n=Object(i.jsx)(s.X,{children:r.a._("Thank you for helping improve signal detection on Pinterest!","pinRep.actionBar.signalDetector.toast","Toast text displayed when a user submits a signal for review")});return Object(i.jsx)(a.a,{onHide:t,text:n})}var l=n("eOdZ"),d=n("v/Q4"),u=n("nGHF");var p=function({anchor:e,onDismiss:t,pinId:n,signals:a}){const[p,b]=Object(o.useState)(0),h=Object(d.a)(),{showOneToast:j}=Object(u.b)();if(!h.isEmployee)return null;const m=a.map(({signal_message:e})=>({href:"#",text:e})),{background_color:f,icon_url:g,signal_id:O,signal_message:_}=a[p];return Object(i.jsx)(s.z,{children:Object(i.jsx)(s.s,{anchor:e,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg",children:Object(i.jsxs)(s.e,{padding:4,width:"100%",children:[a.length>1&&Object(i.jsx)(s.e,{overflow:"scrollX",padding:1,marginBottom:4,children:Object(i.jsx)(s.U,{activeTabIndex:p,onChange:({activeTabIndex:e,event:t})=>{t.preventDefault(),b(e)},size:"lg",tabs:m})}),Object(i.jsx)(s.e,{display:"flex",alignItems:"center",children:Object(i.jsx)(s.u,{size:"sm",children:r.a._("Signal detected:","pinRep.actionBar.signalDetector.header","Header for signal detector flyout")})}),Object(i.jsx)(s.e,{paddingY:3,children:Object(i.jsxs)(s.r,{alignItems:"center",gap:2,justifyContent:"center",children:[Object(i.jsx)(s.e,{height:40,overflow:"hidden",rounding:"circle",width:40,children:g?Object(i.jsx)(s.x,{alt:r.a._("Signal display","pinRep.actionBar.signalDetector.signalAsset","Asset to represent the signal detected"),color:"white",naturalHeight:1,naturalWidth:1,src:g}):Object(i.jsx)(s.e,{dangerouslySetInlineStyle:{__style:{backgroundColor:f}},height:40,width:40})}),Object(i.jsx)(s.X,{size:"md",children:_})]})}),Object(i.jsx)(s.e,{marginBottom:3,children:Object(i.jsx)(s.X,{size:"md",children:r.a._("If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.","pinRep.actionBar.signalDetector.instructions","Instructions to the user for how to handle inaccurate detection")})}),Object(i.jsxs)(s.r,{alignItems:"center",gap:2,justifyContent:"start",children:[Object(i.jsx)(s.f,{color:"red",size:"md",text:r.a._("Send for review","pinRep.actionBar.signalDetector.button.review","Button label for users to send the pin for review"),onClick:()=>{const e={pin_id:n,signal_id:O,user:h.id};l.a.create("SignalReviewRequestResource",e).callCreate(),t(),j(({onHide:e})=>Object(i.jsx)(c,{onHide:e}))}}),Object(i.jsx)(s.f,{color:"gray",size:"md",text:r.a._("Cancel","pinRep.actionBar.signalDetector.button.cancel","Button label for users to cancel"),onClick:t})]})]})})})},b=n("7pfs"),h=n("jkxn"),j=n("rYoy");function m({signals:e,pinId:t}){const{background_color:n,icon_url:r,signal_message:a}=e[0],[c,l]=Object(o.useState)(!1),d=Object(o.useRef)();return Object(i.jsxs)(o.Fragment,{children:[Object(i.jsx)(j.a,{children:Object(i.jsx)(s.e,{"data-test-id":"debug-signals-feedback-button",children:Object(h.a)(Object(i.jsx)(b.a,{children:({hovered:e,onMouseEnter:t,onMouseLeave:o})=>Object(i.jsx)(s.W,{onTap:()=>l(e=>!e),rounding:"pill",onMouseEnter:t,onMouseLeave:o,children:Object(i.jsxs)(s.e,{color:e?"darkGray":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:d,children:[Object(i.jsx)(s.e,{display:"flex",width:24,height:24,rounding:"circle",color:"white",marginEnd:1,justifyContent:"center",alignItems:"center",children:Object(i.jsx)(s.e,{width:20,height:20,rounding:"circle",overflow:"hidden",children:Object(i.jsx)(s.x,{alt:"",color:n,src:r,naturalHeight:1,naturalWidth:1})})}),Object(i.jsx)(s.X,{color:"white",size:"md",weight:"bold",children:a})]})})}))})}),c&&d&&d.current&&Object(i.jsx)(p,{anchor:d.current,onDismiss:()=>l(!1),pinId:t,signals:e})]})}function f({pin:e}){if(!Object(d.a)().isEmployee)return null;const{id:t,deb_ads:n,deb_content_quality:o,deb_inclusive_product:r,deb_shopping:a,deb_trust_and_safety:s}=e;return n?Object(i.jsx)(m,{pinId:t,signals:n}):o?Object(i.jsx)(m,{pinId:t,signals:o}):r?Object(i.jsx)(m,{pinId:t,signals:r}):a?Object(i.jsx)(m,{pinId:t,signals:a}):s?Object(i.jsx)(m,{pinId:t,signals:s}):null}},jCsw:function(e,t,n){function i(e,t){return e&&e[t]&&e[t].url}n.d(t,"a",(function(){return i}))},jkxn:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("nKUr");function o(e){return Object(i.jsx)("div",{"data-test-id":"pointer-events-wrapper",style:{pointerEvents:"auto"},children:e})}},kVqD:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("q1tI"),o=n("U4JR"),r=n("gD/Z");function a(e,t){const{componentType:n,contextLogData:a,viewParameter:s,viewType:c}=Object(r.b)();return Object(i.useCallback)(()=>{Object(o.b)(e,{component:n,view:c,viewParameter:s,...a,...t||{}})},[t,n,a,e,s,c])}},"mVz+":function(e,t,n){n.d(t,"k",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"m",(function(){return c})),n.d(t,"l",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"n",(function(){return u})),n.d(t,"g",(function(){return p})),n.d(t,"i",(function(){return b})),n.d(t,"h",(function(){return h})),n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return m})),n.d(t,"o",(function(){return f}));const i=171,o=85,r=40,a=20,s=4,c=106,l=133,d=16,u=5,p=1.25,b=.1,h=10,j=246,m=197,f=236},pSsd:function(e,t,n){n.d(t,"a",(function(){return i}));const i="favorited"},qAg2:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("Ye/N"),o=n("qpbZ");function r(e){const{alt_text:t,auto_alt_text:n}=e;return t?Object(o.b)(i.a._("This contains: {{ altText }}","web.altText","Alt text input by a human"),{altText:t}).join(""):n?Object(o.b)(i.a._("This may contain: {{ autoAltText }}","web.altText","Alt text generated by a computer"),{autoAltText:n}).join(""):null}},qhFy:function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("nKUr"),o=n("VJm5"),r=n("TSYQ"),a=n.n(r),s=n("qAg2"),c=n("RwJG"),l=n("n6mq");function d({onError:e,onLoad:t,pin:n}){const{title:o="",dominant_color:r,images:a={}}=n,s=a["474x"].width>a["474x"].height?a["736x"]:a["474x"];return Object(i.jsx)(l.e,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:"177.77777777777777%"}},children:Object(i.jsx)(l.e,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{zIndex:c.a.storyPinImage}},children:Object(i.jsx)(l.x,{alt:o,color:r,naturalHeight:s.height,naturalWidth:s.width,onError:e,onLoad:t,src:s.url,fit:"cover"})})})}const u=120;t.b=({cropHeight:e,cropWidth:t,fallbackColor:n,highResOnly:r,imageFit:c,lowResOnly:p,mediumResOnly:b,onError:h,onLoad:j,pin:m,saved:f=!1,animateGif:g})=>{const{carousel_data:O,description:_="",dominant_color:x,id:y,images:w}=m,v=Object(s.a)(m)||_;if(O)return Object(i.jsx)(o.a,{onError:h,onLoad:j,highResOnly:r,lowResOnly:p,pinId:y});let T,S="",I=0,P=0;if(w){let e=w["236x"];r?e=w["736x"]||w.orig||w["474x"]||w["236x"]:b&&(e=w["474x"]||w.orig||w["236x"]),I=e.height,P=e.width,S=e.url,T=p||b||r?e.url+" 1x":[w["236x"].url+" 1x",w["474x"]&&w["474x"].url+" 2x",w["736x"]&&w["736x"].url+" 3x",w.orig&&w.orig.url+" 4x"].filter(Boolean).join(", ")}if(g){const e=Math.max(m.embed&&m.embed.width||0,236),t=Math.max(m.embed&&m.embed.height||0,236),n=m.embed?m.embed.src:"";n&&(I=t,P=e,S=n,T="")}return Object(i.jsx)(l.e,{minHeight:u,display:"flex",alignItems:"center",children:Object(i.jsx)(l.e,{flex:"grow",children:Object(i.jsx)("div",{className:a()({savedGradient:f}),children:m.story_pin_data_id?Object(i.jsx)(d,{pin:m,onError:h,onLoad:j}):Object(i.jsx)(l.e,{height:t?e:void 0,width:t||void 0,"data-test-id":"non-story-pin-image",children:Object(i.jsx)(l.x,{alt:v,color:"dominant"===n?x:n,fit:c,naturalHeight:I,naturalWidth:P,onError:h,onLoad:j,src:S,srcSet:T})})})})})}},rSLd:function(e,t,n){n.r(t),n.d(t,"default",(function(){return u}));var i=n("nKUr"),o=n("/MKj"),r=n("XSD5"),a=n("ZbwW"),s=n("0nTG"),c=n("U4JR"),l=n("4cTg"),d=n("n6mq");function u({carouselData:e,carouselIndex:t,componentType:n,contextLogData:u,handleCarouselSwipe:p,isCloseup:b,isEditMode:h,pinId:j,viewParameter:m,viewType:f,variant:g}){const O=Object(o.useSelector)(({pins:e})=>e[j],o.shallowEqual),_=e||Object(a.a)(O),x=Object(o.useDispatch)();if(!_)return null;const y=(e,t,i)=>{h||void 0===r.a||(e.preventDefault(),e.stopPropagation(),x(Object(r.a)(String(j),i))),void 0!==p&&p(i),((e,t,n,i,o,r,a,l,d,u)=>{if(!u){const{carousel_slots:u,id:p}=o;Object(c.b)(108,{...d,objectId:t,component:l,view:a,viewParameter:r,eventData:{pinCarouselSlotEventData:{carouselSlotId:u[n]&&Number(u[n].id),carouselDataId:Number(p),carouselSlotIndex:n,toCarouselSlotIndex:i}},...Object(s.f)(e)||{}})}})(O,j,t,i,_,m,f,n,u,h)},{carousel_slots:w=[],index:v}=_,T=void 0!==t?t:v,S="default"===g,I=S?"white":"#555",P=S?"rgba(255, 255, 255, 0.5)":"lightGray";return Object(i.jsx)(l.b.Consumer,{children:({viewportSize:e})=>"sm"===e?null:Object(i.jsx)(d.e,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:b?"end":"center",paddingY:h?1:0,children:[...Array(w.length).keys()].map(e=>Object(i.jsx)(d.e,{paddingX:1,children:Object(i.jsx)(d.W,{accessibilityLabel:w[e].title,fullWidth:!1,onTap:({event:t})=>y(t,T,e),rounding:"circle",children:Object(i.jsx)(d.e,{"data-test-id":"ellipsis-size",height:8,width:8,dangerouslySetInlineStyle:{__style:{backgroundColor:e===T?I:P}},rounding:"circle"})})},j+e))})})}},sztL:function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("nKUr"),o=n("q1tI"),r=n("Nle8"),a=n("eOdZ"),s=n("0nTG"),c=n("U4JR"),l=n("Y8Sn"),d=n("7jH2");function u({children:e,hovered:t,pin:n,slotIndex:u,trafficSource:p,viewType:b}){const[h,j]=Object(o.useState)(),[m,f]=Object(o.useState)(),{id:g,tracked_link:O,link:_}=n,x=O||_||"",y=()=>{j(!0)},w=Object(d.d)(Object(d.q)({pin:n})),v=Object(o.useCallback)(()=>{((e,t,n)=>{const i={check_only:n,pin_id:e.id,url:t,client_tracking_params:Object(r.a)(e.id),aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:g,...u||{},...Object(s.f)(e)||{}})};return a.a.create("OffsiteLinkResource",i)})(n,x,!1).callGet({showError:!1}).then(e=>{e&&(Object(c.b)(12,{clickthrough_type:"rightClick",objectId:g,view:b,viewParameter:w,...u||{},...Object(s.f)(n)||{}}),Object(l.e)()&&Object(c.b)(8948,{click_type:"clickthrough",closeup_navigation_type:p&&Object(l.l)(p)?"deeplink":"click",clickthrough_type:"rightClick",view:b,objectId:g,viewParameter:w,...u||{},...Object(s.f)(n)||{}}))})}),T=()=>{h&&(v(),j(!1),window.removeEventListener(m,T,!1))};return Object(o.useEffect)(()=>{var e,t,n,i,o,r;void 0!==(null===(e=window)||void 0===e||null===(t=e.document)||void 0===t?void 0:t.hidden)?f("visibilitychange"):void 0!==(null===(n=window)||void 0===n||null===(i=n.document)||void 0===i?void 0:i.msHidden)?f("msvisibilitychange"):void 0!==(null===(o=window)||void 0===o||null===(r=o.document)||void 0===r?void 0:r.webkitHidden)&&f("webkitvisibilitychange")},[]),Object(o.useEffect)(()=>(h&&window&&window.addEventListener(m,T,!1),()=>window.removeEventListener(m,T)),[h,m]),Object(o.useEffect)(()=>(t&&window.addEventListener("contextmenu",y),()=>{window.removeEventListener("contextmenu",y)}),[t]),Object(i.jsx)(o.Fragment,{children:e})}},tMjw:function(e,t,n){n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h}));var i=n("nKUr"),o=n("I7CA"),r=n("vcEN"),a=n("Ye/N"),s=n("n6mq");const c="#000000",l="#ffffff";function d({selected:e=!1}){return Object(i.jsx)(s.e,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?c:l,borderRadius:u,boxShadow:"inset 0 0 0 3px #fff",zIndex:1}},children:e?Object(i.jsx)(s.e,{position:"absolute",bottom:!0,right:!0,display:"flex",alignItems:"center",justifyContent:"center",margin:3,rounding:2,height:24,width:24,color:"darkGray",children:Object(i.jsx)(s.v,{accessibilityLabel:a.a._("Check icon","pinRepSelectionBorder.checkIcon","Accessibility label for check icon on selected Pin"),icon:"check",color:"white",size:12})}):Object(i.jsx)(s.e,{position:"absolute",top:!0,right:!0,margin:3,children:Object(i.jsx)(s.v,{accessibilityLabel:a.a._("Handle icon","pinRepSelectionBorder.handleIcon","Accessibility label for handle icon on an organizable Pin"),icon:"handle",color:"white",size:24})})})}const u=16,p=4,b={wrapper:{borderRadius:u,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"},savedOverlay:{backgroundColor:"rgba(0, 0, 0, 0.33)"},legoWashOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function h({children:e,savedOverlayVisibility:t="none",visualOverlayVisibility:n="none",primaryContent:a,primaryContentVisibility:c="none",secondaryContent:l,secondaryContentVisibility:u="none",accessoryContent:p,accessoryContentVisibility:h="none",actionBar:j,actionBarVisibility:m="none",footer:f,selectionState:g="no-selection",debugContent:O,enablePointerEvents:_,signalDebuggerContent:x,signalDebuggerV2Content:y,signalDebuggerV2ContentVisibility:w="none",obscuredPinOverlay:v,showNoPinBorderRadius:T,showPromotedPinBorderTreatment:S,shouldUseLegoWash:I}){return Object(i.jsx)(s.e,{dangerouslySetInlineStyle:{__style:S?b.promotedPinBorderTreatment:{}},children:Object(i.jsxs)(s.e,{dangerouslySetInlineStyle:{__style:T?{}:b.wrapper},"data-test-id":"pinWrapper",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(g)&&Object(i.jsx)(d,{selected:"selected"===g}),Object(i.jsxs)(s.e,{dangerouslySetInlineStyle:{__style:T?{}:b.wrapper},overflow:"hidden",position:"relative",children:[e,Object(i.jsx)(r.a,{visibility:n,children:Object(i.jsx)(o.a,{enablePointerEvents:_,additionalStyles:I?b.legoWashOverlay:b.visualOverlay})}),Object(i.jsx)(r.a,{visibility:t,children:Object(i.jsx)(o.a,{additionalStyles:I?b.legoWashOverlay:b.savedOverlay,enablePointerEvents:_})}),p&&Object(i.jsx)(r.a,{visibility:h,children:Object(i.jsx)(o.a,{enablePointerEvents:_,children:p})}),l&&Object(i.jsx)(r.a,{visibility:u,children:Object(i.jsx)(o.a,{enablePointerEvents:_,children:l})}),a&&Object(i.jsx)(r.a,{visibility:c,children:Object(i.jsx)(o.a,{enablePointerEvents:_,children:a})}),y&&Object(i.jsx)(r.a,{visibility:w,children:Object(i.jsx)(o.a,{children:Object(i.jsx)(s.e,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:y})})}),j&&Object(i.jsx)(r.a,{visibility:m,children:Object(i.jsx)(o.a,{children:Object(i.jsx)(s.e,{position:"absolute",left:!0,right:!0,bottom:!0,children:j})})}),O&&Object(i.jsx)(o.a,{children:O}),x]}),f,v&&Object(i.jsx)(s.e,{children:v})]})})}},tuD4:function(e,t,n){function i(e){const t=e.split("/");return[t[2],t[1]]}function o(e,t){return!e||!e.some(e=>e.pin_type===t)}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}))},vcEN:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("nKUr"),o=n("n6mq"),r=n("XLg/");function a(e,t){return{hidden:{opacity:0,transition:t?`opacity ${t}ms ease`:void 0},visible:{opacity:1,transition:e?`opacity ${e}ms ease`:void 0}}}function s({children:e,fadeInDuration:t=0,fadeOutDuration:n=r.a,visibility:s}){return"none"!==s&&e?Object(i.jsx)(o.e,{dangerouslySetInlineStyle:{__style:a(t,n)[s]},children:e}):null}},vpxy:function(e,t,n){var i=n("nKUr"),o=n("q1tI"),r=n("/MKj"),a=n("9WJf"),s=n("ynlw"),c=n("078/");function l({isGroupBoard:e,pin:t,surface:n}){const{buyable_product:i,carousel_data:o,grid_title:r,rich_summary:a,title:l}=t,{isOwnPin:d,isPromoted:u}=Object(s.a)(t);if(o){const{carousel_slots:e=[],index:t}=o;if(e[t]&&e[t].title)return e[t].title.trim()}if(u){if(c.a.includes(n))return r||"";if(d&&!e&&!o&&"UserProfilePinGrid"!==n)return"";const t=a&&"mobile application"!==a.type_name&&a.display_name,s=i&&i.title;return l||t||s||r||""}return r||""}const d=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"];var u=n("JW66"),p=n("jgRP"),b=n("QLqj"),h=n("XPo3"),j=n("mVz+");const m=["ShoppingCatalogsProductsMetadata"];var f=n("8A+h"),g=n("clxp");const O={BaseBoardPinGrid:"boardPinView",UserProfilePinGrid:"profilePinView"};var _=n("Xuu2"),x=n("63p3");var y=n("Zygf");var w=n("v/Q4"),v=n("gC5q"),T=n("T5j3"),S=n("Y8Sn"),I=n("ENhS"),P=n("gD/Z"),E=n("N89m"),R=n("EPem");const C=["CloseupRelatedProducts","ConversationView","CreatorProfilePinGrid","ProductPinsFeed","UserProfilePinGrid"];function k({attributionOption:e,board:t,boardActivityOptions:n,contentType:i,feedbackData:o,feedbackType:r,hasCarouselData:a,isGroupBoard:c,isOwnBoard:d,pin:u,showImageOnly:p,showNativeReactions:b,surface:h,viewer:j}){var m;const{isPromoted:f}=Object(s.a)(u),{promoter:g,unified_user_note:O,pin_note:_}=u,x=function({attributionOption:e,feedbackType:t,isGroupBoard:n,pin:i,showImageOnly:o,surface:r}){const{is_downstream_promotion:a,native_creator:s,promoter:c,sponsorship:l}=i;if("promoted"===t||c&&!a||l)return"default";if(C.includes(r))return"none";if(n)return"none";let d="default";return e&&("image-only"===e?d="image-only-credit":"hide"===e&&(d="none")),"followed"!==t||o?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(r)&&"hide"===e?d:"TodayArticleFeed"===r&&"show"===e?"show-for-claimed-content":s?"default":"none":d}({attributionOption:e,feedbackType:r,isGroupBoard:c,pin:u,showImageOnly:p,surface:h}),y=p?"":l({isGroupBoard:c,pin:u,surface:h}),w=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(h)&&!f&&!p&&Boolean(Object(E.a)(u)),v="BaseBoardPinGrid"===h&&!f&&O?O.trim():null,T="BaseBoardPinGrid"===h&&_?_.text.trim():null,S=f,I="shopping"===i,P=/ShoppingSquareGridRelatedProducts/.test(h);let k=2;f?k=3:(w||"none"!==x)&&(k=I||P?2:1);let N,D,B;if(I||f&&P){var L,A;const e=null===(L=u.rich_summary)||void 0===L||null===(A=L.products)||void 0===A?void 0:A[0],{offer_summary:t}=e||{};N=t?t.standard_price:void 0,D=t?t.price||t.max_price:void 0}const{rating_count:M,rating_value:U,review_count:G}=(null===(m=u.rich_summary)||void 0===m?void 0:m.aggregate_rating)||{};!f&&(M||G)&&parseFloat(U)&&(B={count:M||G,rating:U});const F=I||["ShoppingDynamicHeightGrid","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(h)?20:30;let H;H=c?25:"CloseupRelatedProducts"===h?23:F;const V=Object(R.d)(u,j),z="CreatorProfilePinGrid"!==h,q=c;return{attributionType:x,board:t,contentType:i,feedbackData:o,feedbackType:r,isDarkPromoter:!f&&!!g,pinNoteText:T,pinTitle:y,productCurrentPrice:D,productOriginalPrice:N,productRating:B,showBoardActivityReply:"no-reply"!==n,showCarouselEllipsis:a,showFavoriteButton:"BaseBoardPinGrid"===h&&d||Boolean(null==t?void 0:t.should_show_board_activity),showGroupBoardAvatar:q,showNativeReactions:b,showOverflowMenu:S,showPinStats:V,showSource:w,showTextContent:z,singleLineMaxLength:H,titleLines:k,userNote:v}}var N=n("g5OB"),D=n("W5T3"),B=n("QAzJ"),L=n("0S8y");const A=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","TopicBestPinNarrow","TopicBestPinWide","TuningMode"],M=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","TuningMode"],U=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","ShoppingCatalogsProductsMetadata","TuningMode"];t.a=Object(r.connect)((function({boards:{isSocialSeasonalBoard:e=!1,content:t={}},pins:n},{pin:i,pinId:o}){const r=n[o]||i,a=r.board&&r.board.id,s=(a?t[""+a]:void 0)||r.board;return r.grid_title=r.grid_title||i.grid_title,{board:s,isSocialSeasonalBoard:e,reduxPin:r}}),()=>({}))((function({blockClickEvents:e,attributionOption:t,board:n,boardActivityOptions:E,debugImpressionState:R,feedbackOptions:C,imageOnlyOption:G="default",isSocialSeasonalBoard:F,pinImageCrop:H,pinImageFit:V,reduxPin:z,resolution:q="default",saveButtonOptions:W,surface:Y,trackingParameters:X,...K}){const{collaborated_by_me:J,collaborator_count:$,is_collaborative:Z}=n||{},{pinner:Q,showFeedback:ee,sponsorship:te}=z,ne=Object(y.a)(z),ie=Object(w.a)(),{slotIndex:oe,viewParameter:re}=X,{anyEnabled:ae}=Object(B.a)("web_repin_flow",["AuthHomefeed","BaseBoardPinGrid"].includes(Y)),se=Object(r.useSelector)(({ui:e})=>e.views),ce=Object(r.useSelector)(({ui:e})=>e),le=ce.app?ce.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},de=Object(S.k)(z.id,le),ue=function(e){const t=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0]&&e.rich_metadata.products[0].additional_images;return!!(t&&t.length>0)}(z),pe=Object(x.a)(z)||ue,be=ie.isAuth&&ie.isEmployee,he=ie.isAuth&&(Object(L.c)({user:ie})||Object(L.d)({user:ie}))&&!ie.isPartner;let je=he;"TodayArticleFeed"===Y&&(je=!1),"default"!==G&&(je="image-only"===G),function(e){return c.c.includes(e)}(Y)&&(je=!1),"ShoppingSquareGridDomainNoMetadata"===Y&&(je=!0);let me=t;he&&!me&&(me="image-only");const fe=Object(_.a)({feedbackOptions:C,pin:z,viewParameter:re}),{data:ge}=C||{},Oe=$>0||Z,_e=function(e,t){if("OtherProfilePinGrid"===t)return!0;const n=O[t];return!!n&&"dense"===e[n]}(se,Y),xe=Oe&&"BaseBoardPinGrid"===Y,ye=Object(f.a)(ie,n),we=Boolean(ie.isAuth&&Q&&Q.id===ie.id),ve=J||Oe&&ye,Te=ie.isAuth&&ie.isPartner,Se=z.is_quick_promotable&&"ShoppingSquareGridHomefeedBoth"!==Y,Ie=Object(B.b)("web_lego_save_flow")().anyEnabled,Pe=Object(o.useMemo)(()=>function({board:e,isDenseView:t,isGroupBoard:n,isInlineBetterSave:i,isOwnBoard:o,isOwnPin:r,isQuickPromotable:s,isRemovable:l,saveButtonOptions:d,surface:u,viewer:p,viewerIsCollaborator:b,shouldUseLegoStyles:h}){const j=p.isAuth?p.boardCount:void 0;let f=d||function(e=0){return 0===e?{type:"classic"}:{type:"inline"}}(j);s?f={type:"promote"}:(b||o||["OtherProfilePinGrid","UserProfilePinGrid"].includes(u))&&(f={type:"classic"}),i&&(f={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===u}),(l||m.includes(u))&&(f={type:"none"});const g=o&&!n,O=e&&Object(a.a)({action:4,board:e})||r;return{board:e,derivedSaveButtonOptions:f,showEditButton:!h&&Boolean(g||"UserProfilePinGrid"===u&&O),showLikeButton:b&&n&&c.d.includes(u),supportsReactionBar:!t,shouldUseLegoStyles:h}}({isDenseView:_e,isGroupBoard:xe,isOwnBoard:ye,isOwnPin:we,isQuickPromotable:Se,isRemovable:ne,saveButtonOptions:W,surface:Y,viewer:ie,viewerIsCollaborator:ve,board:n,isInlineBetterSave:ae,shouldUseLegoStyles:Ie}),[xe,ye,we,Se,ne,W,Y,ie,n,ae,Ie]),{isPromoted:Ee}=Object(s.a)(z),{anyEnabled:Re,group:Ce}=Object(B.d)("web_shopping_grid_labels");let ke;Re&&["ShoppingDynamicHeightGrid","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(Y)&&!Ee&&(["enabled_popular_bestseller_colorful","enabled_popular_colorful","enabled_pwt","employees"].includes(Ce)?ke="pine":["enabled_popular_bestseller_neutral","enabled_popular_neutral"].includes(Ce)&&(ke="white"));const Ne=Object(o.useMemo)(()=>function({allowProductCarousel:e=!1,shoppingLabelColor:t,surface:n}){return{allowProductCarousel:e,allowShoppingPriceIndicator:c.b.includes(n),shoppingLabelColor:t}}({allowProductCarousel:ue,shoppingLabelColor:ke,surface:Y}),[ue,ke,Y]),De=pe,Be=Object(o.useMemo)(()=>function({board:e,feedbackData:t,feedbackType:n,isDenseView:i,isGroupBoard:o,isOwnBoard:r,pin:c,surface:u,shouldUseLegoStyles:p}){const{isOwnPin:b,isPromoted:h}=Object(s.a)(c),j=l({isGroupBoard:o,pin:c,surface:u}),m=e&&Object(a.a)({action:4,board:e})||b,f=c.savedInfo&&c.savedInfo.localPinId,g=Boolean(p&&(r&&!o||"UserProfilePinGrid"===u&&m||f)),O=o&&m||g;let _="default";return i&&(_=o?"icon-only":"truncated-text"),{actionBarEditBeforeShare:Boolean((null==e?void 0:e.is_collaborative)||g),feedbackData:t,feedbackType:n,layout:o&&i?"equally-spaced":"default",pinTitle:j,shouldUseLegoStyles:p,showEditButton:O,showOverflowMenu:!(h||r||o||d.includes(u)),showShareButton:"CloseupRelatedProducts"!==u,sourceLinkStyle:_}}({board:n,feedbackData:ge,feedbackType:fe,isDenseView:_e,isGroupBoard:xe,isOwnBoard:ye,pin:z,surface:Y,shouldUseLegoStyles:Ie}),[n,ge,fe,_e,xe,ye,z,Y,Ie]),Le=!Ee&&["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridRelatedProductsMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(Y)?"shopping":"standard",Ae=Object(T.c)(z),Me=Object(o.useMemo)(()=>k({attributionOption:me,board:n,boardActivityOptions:E,contentType:Le,feedbackData:ge,feedbackType:fe,hasCarouselData:pe,isGroupBoard:xe,isOwnBoard:ye,pin:z,showImageOnly:je,showNativeReactions:Ae,surface:Y,viewer:ie}),[me,n,E,Le,ge,fe,pe,xe,ye,z,je,Ae,Y,ie]),Ue=Boolean(Me.pinTitle)||Me.contentType||Me.userNote||Me.showSource||"none"!==Me.attributionType||Me.showNativeReactions||Me.productCurrentPrice||Me.productOriginalPrice||Me.showPinStats,{anyEnabled:Ge}=Object(B.a)("mweb_web_sponsored_pins",!!te);let Fe=Ue||xe;"BaseBoardPinGrid"===Y&&ye&&Te||te&&Ge?Fe=!0:A.includes(Y)||_e&&(ye||J)||F?Fe=!1:we||"CreatorProfilePinGrid"!==Y||(Fe=!1);const He="TuningMode"!==Y&&Boolean(ee),{anyEnabled:Ve,customActivate:ze}=Object(B.c)("web_others_board_feed_ads_border");let qe=!1;"BaseBoardPinGrid"===Y&&Ee&&(qe=Ve,ze());const We={showNoPinBorderRadius:"TopicBestPinNarrow"===Y||"TopicBestPinWide"===Y,showPromotedPinBorderTreatment:qe,shouldUseLegoWash:!!Ie},{anyEnabled:Ye}=Object(B.a)("hfp_homefeed_control_cta_variants"),Xe=He?{feedbackType:fe,isHomefeedTunerVariantExp:Ye}:void 0,{anyEnabled:Ke}=Object(B.d)("ads_desktop_video_ads"),Je=H&&"string"!=typeof H?[H.height,H.width]:[H],$e=Object(o.useMemo)(()=>function({hasCarouselData:e,isDenseView:t,isPromoted:n,isSocialSeasonalBoard:i,pinImageCrop:o,pinImageFit:r,resolution:a,showPromotedVideos:s,surface:c}){let l="backend";"CloseupRelatedProducts"===c?l={height:j.a,width:j.b}:"TopicBestPinWide"===c?l={height:h.h,width:h.i}:"TopicBestPinNarrow"===c?l={height:h.b,width:h.c}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(c)?l={height:j.o,width:j.o}:o&&(l=o);const d=["ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(c);let m="none";"string"!=typeof l&&(m="cover",(d||"ShoppingSquareGridCrop"===c&&n||"ShoppingDynamicHeightGrid"===c&&!r||"ShoppingSquareGridDomainNoMetadata"===c)&&(m="contain"));const f=d||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(c)?"transparent":"dominant",g=Object(p.a)(c);return{autoplaySettingOff:"undefined"!=typeof window&&0===b.c.getItem(u.a.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),fallbackColor:f,imageFit:m,isDenseView:t,isSocialSeasonalBoard:i,resolution:null!=a?a:"default",rootMargin:g,pinImageCrop:l,showCarousel:e&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(c),showPromotedVideos:s}}({hasCarouselData:pe,isDenseView:_e,isPromoted:Ee,isSocialSeasonalBoard:F,pinImageCrop:H,pinImageFit:V,resolution:q,showPromotedVideos:Ke,surface:Y}),[pe,_e,Ee,F,V,q,Ke,Y,...Je]),Ze=be&&Object(D.a)(),Qe=Object(o.useMemo)(()=>({debugImpressionState:R,slotIndex:oe}),[R,oe]);return Object(i.jsx)(g.a,{name:"PinRepConfiguration",children:Object(i.jsx)(P.a,{value:X,children:Object(i.jsx)(I.a,{value:{surface:Y},children:Object(i.jsx)(N.b,{actionBarProps:Be,blockClickEvents:e,currentlyPlayingVideo:de,footerProps:Me,forcePrimaryContentVisibility:["HomefeedMoreIdeasTabs","TuningMode"].includes(Y)||Ie&&"BoardMoreIdeasTabContent"===Y,impressionsDebuggerProps:Qe,obscuredPinOverlayProps:Xe,pin:z,pinVisualProps:$e,presentationProps:We,primaryContentProps:Pe,secondaryContentProps:Ne,showAccessoryContent:De,showActionBar:!U.includes(Y),showFooter:Fe,showImpressionsDebugger:Ze,showObscuredPinOverlay:He,showPrimaryAndSecondaryContent:!M.includes(Y),showSignalDebugger:be,surface:Y,...Object(v.b)(K,["pinId"])})})})})}))},yKES:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("nKUr"),o=n("Ye/N"),r=n("US8k"),a=n("n6mq");function s({duration:e}){return Object(i.jsxs)(a.e,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[Object(i.jsx)(a.v,{accessibilityLabel:o.a._("Video camera icon","Video camera indicator icon for a Pin","Video camera indicator icon for a Pin"),color:"white",icon:"video-camera"}),Object(i.jsx)(a.e,{marginStart:1,children:Object(i.jsx)(a.X,{color:"white",size:"sm",truncate:!0,children:Object(r.a)(e)})})]})}},zq6P:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var i=n("q1tI");const o=Object(i.createContext)(Object.freeze({})),r=o.Provider;function a(){return Object(i.useContext)(o)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/94-673d343bf865a259a908.mjs.map